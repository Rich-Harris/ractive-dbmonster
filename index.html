<html>
<head>
  <link rel="stylesheet" href="bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="link">
  You're looking at a Ractive<br>
  version of <a href="https://dbmonster.firebaseapp.com/">DBMonster</a>.<br>
  <a class="center" href="https://github.com/rich-harris/ractive-dbmonster">See it on GitHub</a>
</div>

<div id="body">
</div>

<script src="node_modules/underscore/underscore-min.js"></script>
<script src="node_modules/ractive/ractive-legacy.js"></script>
<script src="node_modules/ractive-load/dist/ractive-load.js"></script>
<script src="node_modules/memory-stats/memory-stats.js"></script>
<script src="monitor.js"></script>
<script src="junkola-copied-from-ember.js"></script>

<script type="text/javascript">
  var ROWS = 100;
  var TIMEOUT = 0;

  Ractive.load( 'table.html' ).then( function ( Table ) {
    var table = new Table({
      el: '#body',
      data: {
        dbs: getDatabases()
      },
      modifyArrays: false
    });

    function redraw() {
      table.set( 'dbs', getDatabases() );
      Monitoring.renderRate.ping();
      setTimeout(redraw, TIMEOUT);
    }
    redraw();
  })
  .catch( function ( err ) {
    console.error( err );
  });
</script>

</body>
</html>
