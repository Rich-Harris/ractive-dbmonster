!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ractive=e()}(this,function(){"use strict";function t(t){var e;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];for(var i,s;s=n.shift();)for(i in s)ja.call(s,i)&&(t[i]=s[i]);return t}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function s(t){return"[object Array]"===Ra.call(t)}function o(t){return Na.test(Ra.call(t))}function a(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function u(t){return!isNaN(parseFloat(t))&&isFinite(t)}function h(t){return t&&"[object Object]"===Ra.call(t)}function c(t,e){return t.replace(/%s/g,function(){return e.shift()})}function l(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];throw t=c(t,n),new Error(t)}function f(){Kw.DEBUG&&Pa.apply(null,arguments)}function d(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=c(t,n),Ta(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;e>r;r++)n[r-1]=arguments[r];t=c(t,n),Da[t]||(Da[t]=!0,Ta(t,n))}function m(){Kw.DEBUG&&d.apply(null,arguments)}function v(){Kw.DEBUG&&p.apply(null,arguments)}function g(t,e,n){var r=y(t,e,n);return r?r[t][n]:null}function y(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function w(t){return function(){return t}}function b(t){var e,n,r,i,s,o;for(e=t.split("."),(n=$a[e.length])||(n=x(e.length)),s=[],r=function(t,n){return t?"*":e[n]},i=n.length;i--;)o=n[i].map(r).join("."),s.hasOwnProperty(o)||(s.push(o),s[o]=!0);return s}function x(t){var e,n,r,i,s,o,a,u,h="";if(!$a[t]){for(r=[];h.length<t;)h+=1;for(e=parseInt(h,2),i=function(t){return"1"===t},s=0;e>=s;s+=1){for(n=s.toString(2);n.length<t;)n="0"+n;for(u=[],a=n.length,o=0;a>o;o++)u.push(i(n[o]));r[s]=u}$a[t]=r}return $a[t]}function k(t,e,n,r){var i=t[e];if(!i||!i.equalsOrStartsWith(r)&&i.equalsOrStartsWith(n))return t[e]=i?i.replace(n,r):r,!0}function E(t){var e=t.slice(2);return"i"===t[1]&&u(e)?+e:e}function _(t){return null==t?t:(Za.hasOwnProperty(t)||(Za[t]=new Ha(t)),Za[t])}function A(t,e){function n(e,n){var r,i,o;return n.isRoot?o=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(r=t.viewmodel.wrapped[n.str],i=r?r.get():t.viewmodel.get(n),o=i?Object.keys(i):null),o&&o.forEach(function(t){"_ractive"===t&&s(i)||e.push(n.join(t))}),e}var r,i,o;for(r=e.str.split("."),o=[Ga];i=r.shift();)"*"===i?o=o.reduce(n,[]):o[0]===Ga?o[0]=_(i):o=o.map(S(i));return o}function S(t){return function(e){return e.join(t)}}function C(t){return t?t.replace(qa,".$1"):""}function O(t,e,n){if("string"!=typeof e||!u(n))throw new Error("Bad arguments");var r=void 0,i=void 0;if(/\*/.test(e))return i={},A(t,_(C(e))).forEach(function(e){var r=t.viewmodel.get(e);if(!u(r))throw new Error(Ja);i[e.str]=r+n}),t.set(i);if(r=t.get(e),!u(r))throw new Error(Ja);return t.set(e,+r+n)}function P(t,e){return Ya(this,t,void 0===e?1:+e)}function T(t){this.event=t,this.method="on"+t,this.deprecate=ru[t]}function F(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function j(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]==e)return!0;return!1}function R(t,e){var n;if(!s(t)||!s(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function N(t){return"string"==typeof t?[t]:void 0===t?[]:t}function D(t){return t[t.length-1]}function L(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function I(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function V(t){setTimeout(t,0)}function W(t,e){return function(){for(var n;n=t.shift();)n(e)}}function M(t,e,n,r){var i;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof iu)e.then(n,r);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{i=e.then}catch(s){return void r(s)}if("function"==typeof i){var o,a,u;a=function(e){o||(o=!0,M(t,e,n,r))},u=function(t){o||(o=!0,r(t))};try{i.call(e,a,u)}catch(s){if(!o)return r(s),void(o=!0)}}else n(e)}}function U(t,e,n){var r;return e=C(e),"~/"===e.substr(0,2)?(r=_(e.substring(2)),$(t,r.firstKey,n)):"."===e[0]?(r=z(cu(n),e),r&&$(t,r.firstKey,n)):r=B(t,_(e),n),r}function z(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return _(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),_(n.join("."))}return _(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function B(t,e,n,r){var i,s,o,a,u;if(e.isRoot)return e;for(s=e.firstKey;n;)if(i=n.context,n=n.parent,i&&(a=!0,o=t.viewmodel.get(i),o&&("object"==typeof o||"function"==typeof o)&&s in o))return i.join(e.str);return q(t.viewmodel,s)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,s=_(s),u=B(t.parent,s,n,!0))?(t.viewmodel.map(s,{origin:t.parent.viewmodel,keypath:u}),e):r||a?void 0:(t.viewmodel.set(e,void 0),e)}function $(t,e){var n;!t.parent||t.isolated||q(t.viewmodel,e)||(e=_(e),(n=B(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function q(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function Q(t){t.teardown()}function Z(t){t.unbind()}function H(t){t.unrender()}function K(t){t.cancel()}function G(t){t.detach()}function Y(t){t.detachNodes()}function J(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function X(){for(var t,e,n;du.ractives.length;)e=du.ractives.pop(),n=e.viewmodel.applyChanges(),n&&gu.fire(e,n);for(tt(),t=0;t<du.views.length;t+=1)du.views[t].update();for(du.views.length=0,t=0;t<du.tasks.length;t+=1)du.tasks[t]();return du.tasks.length=0,du.ractives.length?X():void 0}function tt(){var t,e,n,r;for(t=vu.length;t--;)e=vu[t],e.keypath?vu.splice(t,1):(n=lu(e.root,e.ref,e.parentFragment))&&((r||(r=[])).push({item:e,keypath:n}),vu.splice(t,1));r&&r.forEach(et)}function et(t){t.item.resolve(t.keypath)}function nt(t,e,n){var r,i,s,o,a,u,h,c,l,f,d,p,m,v;if(r=new hu(function(t){return i=t}),"object"==typeof t){n=e||{},u=n.easing,h=n.duration,a=[],c=n.step,l=n.complete,(c||l)&&(d={},n.step=null,n.complete=null,f=function(t){return function(e,n){d[t]=n}});for(s in t)t.hasOwnProperty(s)&&((c||l)&&(p=f(s),n={easing:u,duration:h},c&&(n.step=p)),n.complete=l?p:Ea,a.push(rt(this,s,t[s],n)));return v={easing:u,duration:h},c&&(v.step=function(t){return c(t,d)}),l&&r.then(function(t){return l(t,d)}),v.complete=i,m=rt(this,null,null,v),a.push(m),r.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},r}return n=n||{},n.complete&&r.then(n.complete),n.complete=i,o=rt(this,t,e,n),r.stop=function(){return o.stop()},r}function rt(t,e,n,r){var i,s,o,u;return e&&(e=_(C(e))),null!==e&&(u=t.viewmodel.get(e)),xu.abort(e,t),a(u,n)?(r.complete&&r.complete(r.to),Au):(r.easing&&(i="function"==typeof r.easing?r.easing:t.easing[r.easing],"function"!=typeof i&&(i=null)),s=void 0===r.duration?400:r.duration,o=new Eu({keypath:e,from:u,to:n,root:t,duration:s,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),xu.add(o),t._animations.push(o),o)}function it(){return this.detached?this.detached:(this.el&&L(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Cu.fire(this),this.detached)}function st(t){return this.el?this.fragment.find(t):null}function ot(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?fa(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0}function at(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function ut(t){var e,n;for(e=[t],n=at(t);n;)e.push(n),n=at(n);return e}function ht(t,e,n,r){var i=[];return Sa(i,{selector:{value:e},live:{value:n},_isComponentQuery:{value:r},_test:{value:Pu}}),n?(Sa(i,{cancel:{value:Tu},_root:{value:t},_sort:{value:Ru},_makeDirty:{value:Nu},_remove:{value:Du},_dirty:{value:!1,writable:!0}}),i):i}function ct(t,e){var n,r;return this.el?(e=e||{},n=this._liveQueries,(r=n[t])?e&&e.live?r:r.slice():(r=Lu(this,t,!!e.live,!1),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAll(t,r),r)):[]}function lt(t,e){var n,r;return e=e||{},n=this._liveComponentQueries,(r=n[t])?e&&e.live?r:r.slice():(r=Lu(this,t,!!e.live,!0),r.live&&(n.push(t),n["_"+t]=r),this.fragment.findAllComponents(t,r),r)}function ft(t){return this.fragment.findComponent(t)}function dt(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pt(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function mt(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var r=_(e).wildcardMatches();vt(t,r,n.event,n.args,!0)}}function vt(t,e,n,r){var i,s,o=void 0===arguments[4]?!1:arguments[4],a=!0;for(Bu.enqueue(t,n),s=e.length;s>=0;s--)i=t._subs[e[s]],i&&(a=gt(t,i,n,r)&&a);if(Bu.dequeue(t),t.parent&&a){if(o&&t.component){var u=t.component.name+"."+e[e.length-1];e=_(u).wildcardMatches(),n&&(n.component=t)}vt(t.parent,e,n,r)}}function gt(t,e,n,r){var i=null,s=!1;n&&!n._noArg&&(r=[n].concat(r)),e=e.slice();for(var o=0,a=e.length;a>o;o+=1)e[o].apply(t,r)===!1&&(s=!0);return n&&!n._noArg&&s&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!s}function yt(t){var e={args:Array.prototype.slice.call(arguments,1)};$u(this,t,e)}function wt(t){var e;return t=_(C(t)),e=this.viewmodel.get(t,Zu),void 0===e&&this.parent&&!this.isolated&&lu(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function bt(e,n){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,xt(this)}function xt(t){Ku.fire(t),t.findAllComponents("*").forEach(function(t){xt(t.instance)})}function kt(t,e,n){var r,i;return t=_(C(t)),r=this.viewmodel.get(t),s(r)&&s(e)?(i=yu.start(this,!0),this.viewmodel.merge(t,r,e,n),yu.end(),i):this.set(t,e,n&&n.complete)}function Et(t,e){var n,r;return n=A(t,e),r={},n.forEach(function(e){r[e.str]=t.get(e.str)}),r}function _t(t,e,n,r){var i,s,o;e=_(C(e)),r=r||ch,e.isPattern?(i=new uh(t,e,n,r),t.viewmodel.patternObservers.push(i),s=!0):i=new Xu(t,e,n,r),i.init(r.init),t.viewmodel.register(e,i,s?"patternObservers":"observers"),i.ready=!0;var a={cancel:function(){var n;o||(s?(n=t.viewmodel.patternObservers.indexOf(i),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,i,"patternObservers")):t.viewmodel.unregister(e,i,"observers"),o=!0)}};return t._observers.push(a),a}function At(t,e,n){var r,i,s,o;if(h(t)){n=e,i=t,r=[];for(t in i)i.hasOwnProperty(t)&&(e=i[t],r.push(this.observe(t,e,n)));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",hh(this,t,e,n);if(s=t.split(" "),1===s.length)return hh(this,t,e,n);for(r=[],o=s.length;o--;)t=s[o],t&&r.push(hh(this,t,e,n));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}function St(t,e,n){var r=this.observe(t,function(){e.apply(this,arguments),r.cancel()},{init:!1,defer:n&&n.defer});return r}function Ct(t,e){var n,r=this;if(t)n=t.split(" ").map(dh).filter(ph),n.forEach(function(t){var n,i;(n=r._subs[t])&&(e?(i=n.indexOf(e),-1!==i&&n.splice(i,1)):r._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Ot(t,e){var n,r,i,s=this;if("object"==typeof t){n=[];for(r in t)t.hasOwnProperty(r)&&n.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return i=t.split(" ").map(dh).filter(ph),i.forEach(function(t){(s._subs[t]||(s._subs[t]=[])).push(e)}),{cancel:function(){return s.off(t,e)}}}function Pt(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function Tt(t,e,n){var r,i,s,o,a,u,h=[];if(r=Ft(t,e,n),!r)return null;for(i=t.length,a=r.length-2-r[1],s=Math.min(i,r[0]),o=s+r[1],u=0;s>u;u+=1)h.push(u);for(;o>u;u+=1)h.push(-1);for(;i>u;u+=1)h.push(u+a);return h.touchedFrom=0!==a?r[0]:t.length,h}function Ft(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=t.length+Math.max(n[0],-t.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function jt(e,n){var r,i,s,o=this;if(s=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),r=yu.start(this,!0),yu.scheduleTask(function(){return Th.fire(o)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&Rt(a),e.innerHTML=""}return this.cssId&&Oh.apply(),e&&((i=e.__ractive_instances__)?i.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),yu.end(),this.transitionsEnabled=s,r.then(function(){return Fh.fire(o)})}function Rt(t){t.splice(0,t.length).forEach(Q)}function Nt(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function Dt(t,e){var n,r,i;return r='[data-ractive-css~="{'+e+'}"]',i=function(t){var e,n,i,s,o,a,u,h=[];for(e=[];n=Ih.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(s=e.map(It),u=e.length;u--;)a=s.slice(),i=e[u],a[u]=i.base+r+i.modifiers||"",o=s.slice(),o[u]=r+" "+o[u],h.push(a.join(" "),o.join(" "));return h.join(", ")},n=Wh.test(t)?t.replace(Wh,r):t.replace(Lh,"").replace(Dh,function(t,e){var n,r;return Vh.test(e)?t:(n=e.split(",").map(Lt),r=n.map(i).join(", ")+" ",t.replace(e,r))})}function Lt(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function It(t){return t.str}function Vt(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?l("data option must be an object or a function, `"+t+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Wt(t,e){Vt(e);var n="function"==typeof t,r="function"==typeof e;return e||n||(e={}),n||r?function(){var i=r?Mt(e,this):e,s=n?Mt(t,this):t;return Ut(i,s)}:Ut(e,t)}function Mt(t,e){var n=t.call(e);if(n)return"object"!=typeof n&&l("Data function must return an object"),n.constructor!==Object&&v("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function Ut(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function zt(t){var e,n,r;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(Lc))?t.matchPattern(Ic)?(r=t.matchPattern(Lc))?(t.allowWhitespace(),t.matchString("=")?[n,r]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function Bt(t){var e;return(e=t.matchPattern(Wc))?{t:gc,v:e}:null}function $t(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;n<t.tags.length;n+=1)if(e=qt(t,t.tags[n]))return e}function qt(t,e){var n,r,i,s;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(r=Dc(t))return t.matchString(e.close)?(e.open=r[0],e.close=r[1],t.sortMustacheTags(),Uc):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;Vc(t)?t.pos=o:(t.pos=o-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(s=0;s<e.readers.length;s+=1)if(i=e.readers[s],r=i(t,e))return e.isStatic&&(r.s=!0),t.includeLinePositions&&(r.p=t.getLinePos(n)),r;return t.pos=n,null}function Qt(t){var e;return(e=t.matchPattern(qc))?{t:fc,v:e}:null}function Zt(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:vc,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:vc,v:"false"}):null}function Ht(t){var e;return(e=Jc(t))?el.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=$c(t))?e.v:(e=t.matchPattern(Xc))?e:void 0}function Kt(t){var e,n,r;return e=t.pos,t.allowWhitespace(),n=tl(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),r=Fl(t),null===r?(t.pos=e,null):{t:wc,k:n,v:r}):(t.pos=e,null))}function Gt(t){var e,n,r,i;return e=t.pos,r=nl(t),null===r?null:(n=[r],t.matchString(",")?(i=Gt(t),i?n.concat(i):(t.pos=e,null)):n)}function Yt(t){function e(t){r.push(t)}var n,r,i,s;return n=t.pos,t.allowWhitespace(),i=Fl(t),null===i?null:(r=[i],t.allowWhitespace(),t.matchString(",")&&(s=Yt(t),null===s&&t.error(zc),s.forEach(e)),r)}function Jt(t){return $c(t)||Qc(t)||Jc(t)||il(t)||ol(t)||Vc(t)}function Xt(t){var e,n,r,i,s,o;return e=t.pos,r=t.matchPattern(/^@(?:keypath|index|key)/),r||(n=t.matchPattern(hl)||"",r=!n&&t.relaxedNames&&t.matchPattern(dl)||t.matchPattern(fl),r||"."!==n||(n="",r=".")),r?n||t.relaxedNames||!Hc.test(r)?!n&&Zc.test(r)?(i=Zc.exec(r)[0],t.pos=e+i.length,{t:yc,v:i}):(s=(n||"")+C(r),t.matchString("(")&&(o=s.lastIndexOf("."),-1!==o?(s=s.substr(0,o),t.pos=e+s.length):t.pos-=1),{t:bc,n:s.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function te(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=Fl(t),n||t.error(zc),t.allowWhitespace(),t.matchString(")")||t.error(Bc),{t:_c,x:n}):null}function ee(t){var e,n,r;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(Xc))return{t:xc,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),r=Fl(t),r||t.error(zc),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:xc,x:r}):null}function ne(t){var e,n,r,i;return(n=Pl(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),r=Fl(t),r||t.error(zc),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),i=Fl(t),i||t.error(zc),{t:Ac,o:[n,r,i]}):(t.pos=e,n)):null}function re(t){return Tl(t)}function ie(t){function e(t){switch(t.t){case vc:case yc:case fc:case gc:return t.v;case dc:return JSON.stringify(String(t.v));case pc:return"["+(t.m?t.m.map(e).join(","):"")+"]";case mc:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case wc:return t.k+":"+e(t.v);case Ec:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case Sc:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case Cc:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case _c:return"("+e(t.x)+")";case kc:return e(t.x)+e(t.r);case xc:return t.n?"."+t.n:"["+e(t.x)+"]";case Ac:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case bc:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n;return se(t,n=[]),{r:n,s:e(t)}}function se(t,e){var n,r;if(t.t===bc&&-1===e.indexOf(t.n)&&e.unshift(t.n),r=t.o||t.m)if(h(r))se(r,e);else for(n=r.length;n--;)se(r[n],e);t.x&&se(t.x,e),t.r&&se(t.r,e),t.v&&se(t.v,e)}function oe(t,e){var n;if(t){for(;t.t===_c&&t.x;)t=t.x;return t.t===bc?e.r=t.n:t.t===fc&&Nl.test(t.v)?e.r=t.v:(n=ae(t))?e.rx=n:e.x=jl(t),e}}function ae(t){for(var e,n=[];t.t===kc&&t.r.t===xc;)e=t.r,n.unshift(e.x?e.x.t===bc?e.x:jl(e.x):e.n),t=t.x;return t.t!==bc?null:{r:t.n,m:n}}function ue(t,e){var n,r=Fl(t);return r?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:Jh},Rl(r,n),n):null}function he(t,e){var n,r;return t.matchString("&")?(t.allowWhitespace(),(n=Fl(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),r={t:Jh},Rl(n,r),r):null):null}function ce(t,e){var n,r,i,s,o;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),r=t.pos,t.relaxedNames=!0,i=Fl(t),t.relaxedNames=!1,t.allowWhitespace(),s=Fl(t),t.allowWhitespace(),i?(o={t:rc},Rl(i,o),t.allowWhitespace(),s&&(o={t:Xh,n:Fc,f:[o]},Rl(s,o)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):null):null}function le(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),-1!==n?(t.pos+=n+e.close.length,{t:ic}):void 0):null}function fe(t,e){var n,r,i;if(n=t.pos,r=Fl(t),!r)return null;for(i=0;i<e.length;i+=1)if(t.remaining().substr(0,e[i].length)===e[i])return r;return t.pos=n,ul(t)}function de(t,e){var n,r,i,s;n=t.pos;try{r=Wl(t,[e.close])}catch(o){s=o}if(!r){if("!"===t.str.charAt(n))return t.pos=n,null;if(s)throw s}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!r)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return i={t:Yh},Rl(r,i),i}function pe(t,e){var n,r,i;return t.matchPattern(zl)?(n=t.pos,r=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),i={t:hc},r&&(i.n=r),i):null}function me(t,e){var n,r,i,s;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),r=t.remaining(),i=r.indexOf(e.close),-1!==i?(s={t:ec,r:r.substr(0,i).split(" ")[0]},t.pos+=i,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s):(t.pos=n,null)):(t.pos=n,null)):null}function ve(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(ql)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Rc}):(t.pos=n,null):null}function ge(t,e){var n,r=t.pos;return t.matchString(e.open)?t.matchPattern(Zl)?(n=Fl(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Nc,x:n}):(t.pos=r,null):null}function ye(t,e){var n,r,i,s,o,a,u,h,c,l,f,d;if(n=t.pos,t.matchString("^"))i={t:Xh,f:[],n:Pc};else{if(!t.matchString("#"))return null;i={t:Xh,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(u=t.matchPattern(Jl))&&(d=u,i.n=Hl[u])}if(t.allowWhitespace(),r=Fl(t),r||t.error("Expected expression"),f=t.matchPattern(Gl)){var p=void 0;i.i=(p=t.matchPattern(Yl))?f+","+p:f}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,o=i.f,c=[];do if(s=Bl(t,e))d&&s.r!==d&&t.error("Expected "+e.open+"/"+d+e.close),t.sectionDepth-=1,l=!0;else if(s=Ql(t,e))i.n===Pc&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),h||(h=we(r,i.n)),h.f.push({t:Xh,n:Oc,x:jl(xe(c.concat(s.x))),f:o=[]}),c.push(be(s.x));else if(s=$l(t,e))i.n===Pc&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,h?h.f.push({t:Xh,n:Oc,x:jl(xe(c)),f:o=[]}):(h=we(r,i.n),o=h.f);else{if(s=t.read(rd),!s)break;o.push(s)}while(!l);return h&&(i.n===Fc&&(i.n=jc),i.l=h),Rl(r,i),i.f.length||delete i.f,i}function we(t,e){var n;return e===Fc?(n={t:Xh,n:Oc,f:[]},Rl(be(t),n)):(n={t:Xh,n:Pc,f:[]},Rl(t,n)),n}function be(t){return t.t===Ec&&"!"===t.s?t.o:{t:Ec,s:"!",o:ke(t)}}function xe(t){return 1===t.length?t[0]:{t:Sc,s:"&&",o:[ke(t[0]),ke(xe(t.slice(1)))]}}function ke(t){return{t:_c,x:t}}function Ee(t){var e,n,r,i,s;return e=t.pos,t.matchString(tf)?(r=t.remaining(),i=r.indexOf(ef),-1===i&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=r.substr(0,i),t.pos+=i+3,s={t:ic,c:n},t.includeLinePositions&&(s.p=t.getLinePos(e)),s):null}function _e(t){return t.replace(Al,function(t,e){var n;return n="#"!==e[0]?El[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(Ae(n)):t})}function Ae(t){return t?10===t?32:128>t?t:159>=t?_l[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function Se(t){return t.replace(Ol,"&amp;").replace(Sl,"&lt;").replace(Cl,"&gt;")}function Ce(t){return"string"==typeof t}function Oe(t){return t.t===ic||t.t===sc}function Pe(t){return(t.t===Xh||t.t===tc)&&t.f}function Te(t,e,n,r,i){var o,a,u,h,c,l,f,d;for(ff(t),o=t.length;o--;)a=t[o],a.exclude?t.splice(o,1):e&&a.t===ic&&t.splice(o,1);for(df(t,r?gf:null,i?yf:null),o=t.length;o--;){if(a=t[o],a.f){var p=a.t===nc&&vf.test(a.e);c=n||p,!n&&p&&df(a.f,wf,bf),c||(u=t[o-1],h=t[o+1],(!u||"string"==typeof u&&yf.test(u))&&(l=!0),(!h||"string"==typeof h&&gf.test(h))&&(f=!0)),Te(a.f,e,c,l,f)}if(a.l&&(Te(a.l.f,e,n,l,f),t.splice(o+1,0,a.l),delete a.l),a.a)for(d in a.a)a.a.hasOwnProperty(d)&&"string"!=typeof a.a[d]&&Te(a.a[d],e,n,l,f);if(a.m&&Te(a.m,e,n,l,f),a.v)for(d in a.v)a.v.hasOwnProperty(d)&&(s(a.v[d].n)&&Te(a.v[d].n,e,n,l,f),s(a.v[d].d)&&Te(a.v[d].d,e,n,l,f))}for(o=t.length;o--;)"string"==typeof t[o]&&("string"==typeof t[o+1]&&(t[o]=t[o]+t[o+1],t.splice(o+1,1)),n||(t[o]=t[o].replace(mf," ")),""===t[o]&&t.splice(o,1))}function Fe(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(kf))?t.inside&&n!==t.inside?(t.pos=e,null):{t:ac,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function je(t){var e,n,r;return t.allowWhitespace(),(n=t.matchPattern(Af))?(e={name:n},r=Re(t),null!=r&&(e.value=r),e):null}function Re(t){var e,n,r,i;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,r=t.sectionDepth,i=Le(t,"'")||Le(t,'"')||De(t),null===i&&t.error("Expected valid attribute value"),t.sectionDepth!==r&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),i.length?1===i.length&&"string"==typeof i[0]?_e(i[0]):i:""):(t.pos=e,null)}function Ne(t){var e,n,r,i,s;return e=t.pos,(n=t.matchPattern(Sf))?(r=n,i=t.tags.map(function(t){return t.open}),-1!==(s=Ef(r,i))&&(n=n.substr(0,s),t.pos=e+n.length),n):null}function De(t){var e,n;for(t.inAttribute=!0,e=[],n=Mc(t)||Ne(t);null!==n;)e.push(n),n=Mc(t)||Ne(t);return e.length?(t.inAttribute=!1,e):null}function Le(t,e){var n,r,i;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,r=[],i=Mc(t)||Ie(t,e);null!==i;)r.push(i),i=Mc(t)||Ie(t,e);return t.matchString(e)?(t.inAttribute=!1,r):(t.pos=n,null)}function Ie(t,e){var n,r,i,s;return n=t.pos,i=t.remaining(),s=t.tags.map(function(t){return t.open}),s.push(e),r=Ef(i,s),-1===r&&t.error("Quoted attribute value must have a closing quote"),r?(t.pos+=r,i.substr(0,r)):null}function Ve(t){var e,n,r;return t.allowWhitespace(),(e=tl(t))?(r={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(r.value=n.v,r):null):null):null}function We(t,e){var n,r,i,s,o,a,u,h,c;if("string"==typeof t){if(r=Tf.exec(t)){var l=t.lastIndexOf(")");return Ff.test(t)||e.error("Invalid input after method call expression '"+t.slice(l+1)+"'"),n={m:r[1]},s="["+t.slice(n.m.length+1,l)+"]",i=new Cf(s),n.a=jl(i.result[0]),n}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},u=[],h=[],t){for(;t.length;)if(o=t.shift(),"string"==typeof o){if(a=o.indexOf(":"),-1!==a){a&&u.push(o.substr(0,a)),o.length>a+1&&(h[0]=o.substring(a+1));break}u.push(o)}else u.push(o);h=h.concat(t)}return u.length?h.length||"string"!=typeof u?(n={n:1===u.length&&"string"==typeof u[0]?u[0]:u},1===h.length&&"string"==typeof h[0]?(c=Of("["+h[0]+"]"),n.a=c?c.value:h[0].trim()):n.d=h):n=u:n="",n}function Me(t){var e,n,r,i,s,o,a,u,h,c,l,f,d,p,m,v;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=lc,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=nc,n.e=t.matchPattern(Rf),!n.e)return null;for(Nf.test(t.nextChar())||t.error("Illegal tag name"),s=function(e,r){var i=r.n||r;If.test(i)&&(t.pos-=i.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=r},t.allowWhitespace();o=Mc(t)||_f(t);)o.name?(r=Vf[o.name])?n[r]=Pf(o.value,t):(i=Lf.exec(o.name))?(n.v||(n.v={}),a=Pf(o.value,t),s(i[1],a)):t.sanitizeEventAttributes&&Df.test(o.name)||(n.a||(n.a={}),n.a[o.name]=o.value||(""===o.value?"":0)):(n.m||(n.m=[]),n.m.push(o)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(u=!0),!t.matchString(">"))return null;var g=n.e.toLowerCase(),y=t.preserveWhitespace;if(!u&&!kl.test(n.e)){t.elementStack.push(g),("script"===g||"style"===g)&&(t.inside=g),h=[],c=_a(null);do if(p=t.pos,m=t.remaining(),Ue(g,m))if(v=xf(t)){d=!0;var w=v.e.toLowerCase();if(w!==g&&(t.pos=p,!~t.elementStack.indexOf(w))){var b="Unexpected closing tag";kl.test(w)&&(b+=" (<"+w+"> is a void element - it cannot contain children)"),t.error(b)}}else(f=Bl(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(d=!0,t.pos=p):(f=t.read(id))?(c[f.n]&&(t.pos=p,t.error("Duplicate partial definition")),pf(f.f,t.stripComments,y,!y,!y),c[f.n]=f.f,l=!0):(f=t.read(rd))?h.push(f):d=!0;else d=!0;while(!d);h.length&&(n.f=h),l&&(n.p=c),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(g)?Wf:n}function Ue(t,e){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),r=jf[t],n&&r?!~r.indexOf(n[1].toLowerCase()):!0}function ze(t){var e,n,r,i;return n=t.remaining(),i=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(i):(r=t.tags.map(function(t){return t.open}),r=r.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?r.push('"',"'","=","<",">","`"):r.push(t.inAttribute?t.inAttribute:i),e=Ef(n,r)),e?(-1===e&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):_e(n.substr(0,e))):null}function Be(t){return t.replace($f,"\\$&")}function $e(t){var e=t.pos,n=t.standardDelimiters[0],r=t.standardDelimiters[1],i=void 0,s=void 0;if(!t.matchPattern(Qf)||!t.matchString(n))return t.pos=e,null;var o=t.matchPattern(Zf);if(v("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+o+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+o+"}} --> ... <!-- {{/"+o+"}} -->'"),!t.matchString(r)||!t.matchPattern(Hf))return t.pos=e,null;i=[];var a=new RegExp("^<!--\\s*"+Bf(n)+"\\s*\\/\\s*"+o+"\\s*"+Bf(r)+"\\s*-->");do t.matchPattern(a)?s=!0:(Mf=t.read(rd),Mf||t.error("expected closing comment ('<!-- "+n+"/"+o+r+" -->')"),i.push(Mf));while(!s);return{t:cc,f:i,n:o}}function qe(t){var e,n,r,i,s;e=t.pos;var o=t.standardDelimiters;if(!t.matchString(o[0]))return null;if(!t.matchPattern(Gf))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(o[1])||t.error("Expected closing delimiter '"+o[1]+"'"),r=[];do(i=Bl(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!i.r&&t.error("Expected "+o[0]+"/partial"+o[1]),s=!0):(i=t.read(rd),i||t.error("Expected "+o[0]+"/partial"+o[1]),r.push(i));while(!s);return{t:cc,n:n,f:r}}function Qe(t){for(var e=[],n=_a(null),r=!1,i=t.preserveWhitespace;t.pos<t.str.length;){var s=t.pos,o=void 0,a=void 0;(a=t.read(id))?(n[a.n]&&(t.pos=s,t.error("Duplicated partial definition")),pf(a.f,t.stripComments,i,!i,!i),n[a.n]=a.f,r=!0):(o=t.read(rd))?e.push(o):t.error("Unexpected template content");

}var u={v:oa,t:e};return r&&(u.p=n),u}function Ze(t,e){return new nd(t,e||{}).result}function He(t){var e=_a(hd);return e.parse=function(e,n){return Ke(e,n||t)},e}function Ke(t,e){if(!Jf)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Jf(t,e||this.options)}function Ge(t,e){var n;if(!Xo){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Ye(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function Ye(t){return t&&"#"===t[0]}function Je(t){return!("string"==typeof t)}function Xe(t){return t.defaults&&(t=t.defaults),ud.reduce(function(e,n){return e[n]=t[n],e},{})}function tn(t){var e,n=t._config.template;if(n&&n.fn)return e=en(t,n.fn),e!==n.result?(n.result=e,e=rn(e,t)):void 0}function en(t,e){var n=nn(cd.getParseOptions(t));return e.call(t,n)}function nn(t){var e=_a(cd);return e.parse=function(e,n){return cd.parse(e,n||t)},e}function rn(t,e){if("string"==typeof t)"#"===t[0]&&(t=cd.fromId(t)),t=Jf(t,cd.getParseOptions(e));else{if(void 0==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==oa)throw new Error("Mismatched template version (expected "+oa+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function sn(t,e,n){if(e)for(var r in e)(n||!t.hasOwnProperty(r))&&(t[r]=e[r])}function on(t,e,n){if(!/_super/.test(n))return n;var r=function(){var t,i=an(r._parent,e),s="_super"in this,o=this._super;return this._super=i,t=n.apply(this,arguments),s?this._super=o:delete this._super,t};return r._parent=t,r._method=n,r}function an(t,e){var n,r;return e in t?(n=t[e],r="function"==typeof n?n:function(){return n}):r=Ea,r}function un(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function hn(t,e,n){if(e in t){if(n in t)throw new Error(un(e,n,!0));m(un(e,n)),t[n]=t[e]}}function cn(t){hn(t,"beforeInit","onconstruct"),hn(t,"init","onrender"),hn(t,"complete","oncomplete"),hn(t,"eventDefinitions","events"),s(t.adaptors)&&hn(t,"adaptors","adapt")}function ln(t,e,n,r){xd(r);for(var i in r)if(yd.hasOwnProperty(i)){var s=r[i];"el"!==i&&"function"==typeof s?m(""+i+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[i]=s}wd.forEach(function(i){i[t](e,n,r)}),Rh[t](e,n,r),fd[t](e,n,r),zh[t](e,n,r),fn(e.prototype,n,r)}function fn(t,e,n){for(var r in n)if(!gd[r]&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=bd(t,r,i)),e[r]=i}}function dn(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function pn(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mn(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function vn(t){var e,n,r,i;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(r=this.items[e],r.find&&(i=r.find(t)))return i;return null}}function gn(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(t,e);return e}function yn(t,e){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(t,e);return e}function wn(t){var e,n,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(t)))return i;return null}}function bn(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xn(){return this.items&&this.items[0]?this.items[0].firstNode():null}function kn(t,e,n,r){return r=r||0,t.map(function(t){var i,s,o;return t.text?t.text:t.fragments?t.fragments.map(function(t){return kn(t.items,e,n,r)}).join(""):(i=n+"-"+r++,o=t.keypath&&(s=t.root.viewmodel.wrapped[t.keypath.str])?s.value:t.getValue(),e[i]=o,"${"+i+"}")}).join("")}function En(){var t,e,n,r;return this.dirtyArgs&&(e=Fd(this.items,t={},this.root._guid),n=Of("["+e+"]",t),r=n?n.value:[this.toString()],this.argsList=r,this.dirtyArgs=!1),this.argsList}function _n(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function An(){var t,e,n,r;return this.dirtyValue&&(e=Fd(this.items,t={},this.root._guid),n=Of(e,t),r=n?n.value:this.toString(),this.value=r,this.dirtyValue=!1),this.value}function Sn(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Cn(){return this.value}function On(t,e){for(var n,r=0;r<e.prop.length;r++)if(void 0!==(n=t[e.prop[r]]))return n}function Pn(t,e){var n,r,i,s,o,a={},u=!1;for(e||(a.refs=n={});t;){if((o=t.owner)&&(r=o.indexRefs)){if(e&&(i=o.getIndexRef(e)))return a.ref={fragment:t,ref:i},a;if(!e)for(s in r)i=r[s],n[i.n]||(u=!0,n[i.n]={fragment:t,ref:i})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return u?a:void 0}function Tn(t,e,n){var r;return"@"===e.charAt(0)?new $d(t,e,n):(r=Zd(t.parentFragment,e))?new Qd(t,r,n):new Ud(t,e,n)}function Fn(t,e){var n,r;if(Yd[t])return Yd[t];for(r=[];e--;)r[e]="_"+e;return n=new Function(r.join(","),"return("+t+")"),Yd[t]=n,n}function jn(t){return t.call()}function Rn(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var r,i;return+n>=e.length?"_"+n:(r=e[n],void 0===r?"undefined":r.isSpecial?(i=r.value,"number"==typeof i?i:'"'+i+'"'):r.str)})}function Nn(t){return _("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Dn(t){return void 0!==t&&"@"!==t[0]}function Ln(t,e){var n,r,i;if(t.__ractive_nowrap)return t;if(r="__ractive_"+e._guid,n=t[r])return n;if(/this/.test(t.toString())){Aa(t,r,{value:Jd.call(t,e),configurable:!0});for(i in t)t.hasOwnProperty(i)&&(t[r][i]=t[i]);return e._boundFunctions.push({fn:t,prop:r}),t[r]}return Aa(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function In(t){return t.value}function Vn(t){return void 0!=t}function Wn(t){t.forceResolution()}function Mn(t,e){function n(e){t.resolve(e)}function r(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var i,s,o;s=e.parentFragment,o=e.template,t.root=s.root,t.parentFragment=s,t.pElement=s.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(i=o.r)&&(t.resolver=Kd(t,i,n)),e.template.x&&(t.resolver=new Xd(t,s,e.template.x,r)),e.template.rx&&(t.resolver=new rp(t,e.template.rx,r)),t.template.n!==Pc||t.hasOwnProperty("value")||t.setValue(void 0)}function Un(t){var e,n,r;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(r=this.twowayBinding)&&r.rebound()))}function zn(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function Bn(){this.parentFragment.bubble()}function $n(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function qn(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].find(t))return r;return null}function Qn(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(t,e)}function Zn(t,e){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Hn(t){var e,n,r;for(n=this.fragments.length,e=0;n>e;e+=1)if(r=this.fragments[e].findComponent(t))return r;return null}function Kn(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Gn(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Yn(t){var e,n,r,i,s,o,a,u=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Tc){if(this.shuffling=!0,yu.scheduleTask(function(){return u.shuffling=!1}),e=this.parentFragment,s=[],t.forEach(function(t,e){var r,i,o,a,h;return t===e?void(s[t]=u.fragments[e]):(r=u.fragments[e],void 0===n&&(n=e),-1===t?(u.fragmentsToUnrender.push(r),void r.unbind()):(i=t-e,o=u.keypath.join(e),a=u.keypath.join(t),r.index=t,(h=r.registeredIndexRefs)&&h.forEach(Jn),r.rebind(o,a),void(s[t]=r)))}),i=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===i)return;n=this.length}for(this.length=this.fragments.length=i,this.rendered&&yu.addView(this),o={template:this.template.f,root:this.root,owner:this},r=n;i>r;r+=1)a=s[r],a||this.fragmentsToCreate.push(r),this.fragments[r]=a}}function Jn(t){t.rebind("","")}function Xn(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function tr(t){var e,n,r=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=r.keypath.join(t),n.index=t,e=new xw(n),r.fragmentsToRender.push(r.fragments[t]=e)}),this.fragmentsToCreate.length=0):nr(this,t)&&(this.bubble(),this.rendered&&yu.addView(this)),this.value=t,this.updating=!1)}function er(t,e,n){if(e===Tc&&t.indexRefs&&t.indexRefs[0]){var r=t.indexRefs[0];(n&&"i"===r.t||!n&&"k"===r.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),r.t=n?"k":"i"}t.currentSubtype=e}function nr(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case Oc:return t.hasContext=!1,ar(t,e,!1,n);case Pc:return t.hasContext=!1,ar(t,e,!0,n);case Fc:return or(t,n);case jc:return sr(t,e,n);case Tc:if(h(e))return er(t,t.subtype,!0),ir(t,e,n)}return t.ordered=!!o(e),t.ordered?(er(t,Tc,!1),rr(t,e,n)):h(e)||"function"==typeof e?t.template.i?(er(t,Tc,!0),ir(t,e,n)):(er(t,Fc,!1),or(t,n)):(er(t,Oc,!1),t.hasContext=!1,ar(t,e,!1,n))}function rr(t,e,n){var r,i,s;if(i=e.length,i===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(Z);else if(i>t.length)for(r=t.length;i>r;r+=1)n.context=t.keypath.join(r),n.index=r,s=new xw(n),t.fragmentsToRender.push(t.fragments[r]=s);return t.length=i,!0}function ir(t,e,n){var r,i,s,o,a,u;for(s=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)o=t.fragments[i],o.key in e||(a=!0,o.unbind(),t.fragmentsToUnrender.push(o),t.fragments.splice(i,1),s[o.key]=!1);for(i=t.fragments.length;i--;)o=t.fragments[i],o.index!==i&&(o.index=i,(u=o.registeredIndexRefs)&&u.forEach(cr));i=t.fragments.length;for(r in e)s[r]||(a=!0,n.context=t.keypath.join(r),n.key=r,n.index=i++,o=new xw(n),t.fragmentsToRender.push(o),t.fragments.push(o),s[r]=!0);return t.length=t.fragments.length,a}function sr(t,e,n){return e?or(t,n):ur(t)}function or(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new xw(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function ar(t,e,n,r){var i,s,a,u,c;if(s=o(e)&&0===e.length,a=!1,!o(e)&&h(e)){a=!0;for(c in e){a=!1;break}}return i=n?s||a||!e:e&&!s&&!a,i?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(Z),!0):void 0:(r.index=0,u=new xw(r),t.fragmentsToRender.push(t.fragments[0]=u),t.length=1,!0):ur(t)}function ur(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(hr),t.fragmentsToUnrender.forEach(Z),t.length=t.fragmentsToRender.length=0,!0):void 0}function hr(t){return t.rendered}function cr(t){t.rebind("","")}function lr(t){var e,n,r;for(e="",n=0,r=this.length,n=0;r>n;n+=1)e+=this.fragments[n].toString(t);return e}function fr(){var t=this;this.fragments.forEach(Z),this.fragmentsToRender.forEach(function(e){return L(t.fragments,e)}),this.fragmentsToRender=[],Vd.call(this),this.length=0,this.unbound=!0}function dr(t){this.fragments.forEach(t?pr:mr),this.renderedFragments=[],this.rendered=!1}function pr(t){t.unrender(!0)}function mr(t){t.unrender(!1)}function vr(){var t,e,n,r,i,s,o;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(i=this.parentFragment.getNode()),o=this.fragments.length,s=0;o>s;s+=1)t=this.fragments[s],e=n.indexOf(t,s),e!==s?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(s,0,t)):this.docFrag.childNodes.length&&(r=t.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()}function gr(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function yr(t){var e,n,r,i;for(n=this.nodes.length,e=0;n>e;e+=1)if(r=this.nodes[e],1===r.nodeType){if(fa(r,t))return r;if(i=r.querySelector(t))return i}return null}function wr(t,e){var n,r,i,s,o,a;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType&&(fa(i,t)&&e.push(i),s=i.querySelectorAll(t)))for(o=s.length,a=0;o>a;a+=1)e.push(s[a])}function br(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xr(t){return Np[t]||(Np[t]=la(t))}function kr(t){var e,n,r;t&&"select"===t.name&&t.binding&&(e=I(t.node.options).filter(Er),t.getAttribute("multiple")?r=e.map(function(t){return t.value}):(n=e[0])&&(r=n.value),void 0!==r&&t.binding.setValue(r),t.bubble())}function Er(t){return t.selected}function _r(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Dp(this.value,this.parentFragment.getNode(),this.docFrag),Lp(this.pElement),this.rendered=!0,this.docFrag}function Ar(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&yu.addView(this))}function Sr(){return void 0!=this.value?_e(""+this.value):""}function Cr(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Or(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Dp(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Lp(this.pElement)}}function Pr(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0}function Tr(){return null}function Fr(){return this.node}function jr(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function Rr(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();a(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&yu.addView(this))}function Nr(t){var e=t.fragment.items;if(1===e.length)return e[0].type===Yh?e[0]:void 0}function Dr(t){return this.type=oc,this.element=t.element,this.root=t.root,um(this,t.name),this.isBoolean=xl.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new xw({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=hm(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Lr(t,e){this.fragment&&this.fragment.rebind(t,e)}function Ir(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==ra.html||(e=dm[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Vr(){var t=this,e=t.name,n=t.namespacePrefix,r=t.value,i=t.interpolator,s=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&i)return"name={{"+(i.keypath.str||i.ref)+"}}";if(this.isBoolean)return r?e:"";if(s){if(1===s.items.length&&null==s.items[0].value)return"";r=s.toString()}return n&&(e=n+":"+e),r?e+'="'+Wr(r)+'"':e}}function Wr(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Mr(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Ur(){var t,e,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,t=this.node.options,r=t.length;r--;)if(e=t[r],n=e._ractive?e._ractive.value:e.value,n==i){e.selected=!0;break}}function zr(){var t,e,n,r,i=this.value;for(s(i)||(i=[i]),t=this.node.options,e=t.length;e--;)n=t[e],r=n._ractive?n._ractive.value:n.value,n.selected=j(i,r)}function Br(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function $r(){var t,e,n,r,i=this.node;if(t=i.checked,i.value=this.element.getAttribute("value"),i.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!i.checked&&this.element.binding&&(n=this.element.binding.siblings,r=n.length)){for(;r--;){if(e=n[r],!e.element.node)return;if(e.element.node.checked)return yu.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function qr(){var t,e,n=this,r=n.element,i=n.node,o=n.value,a=r.binding;if(t=r.getAttribute("value"),s(o)){for(e=o.length;e--;)if(t==o[e])return void(a.isChecked=i.checked=!0);a.isChecked=i.checked=!1}else a.isChecked=i.checked=o==t}function Qr(){this.node.className=n(this.value)}function Zr(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Hr(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Kr(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Gr(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Yr(){this.locked||(this.node[this.propertyName]=this.value)}function Jr(){var t=this,e=t.node,n=t.namespace,r=t.name,i=t.value,s=t.fragment;n?e.setAttributeNS(n,r,(s||i).toString()):this.isBoolean?i?e.setAttribute(r,""):e.removeAttribute(r):null==i?e.removeAttribute(r):e.setAttribute(r,(s||i).toString())}function Xr(){var t,e,n=this,r=n.name,i=n.element,s=n.node;"id"===r?e=km:"value"===r?"select"===i.name&&"value"===r?e=i.getAttribute("multiple")?gm:vm:"textarea"===i.name?e=Am:null!=i.getAttribute("contenteditable")?e=_m:"input"===i.name&&(t=i.getAttribute("type"),e="file"===t?Ea:"radio"===t&&i.binding&&"name"===i.binding.name?wm:Am):this.isTwoway&&"name"===r?"radio"===s.type?e=ym:"checkbox"===s.type&&(e=bm):"style"===r&&s.style.setAttribute?e=Em:"class"!==r||s.namespaceURI&&s.namespaceURI!==ra.html?this.useProperty&&(e=Sm):e=xm,e||(e=Cm),this.update=e,this.update()}function ti(t,e){var n=e?"svg":"div";return Tm.innerHTML="<"+n+" "+t+"></"+n+">",I(Tm.childNodes[0].attributes)}function ei(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function ni(t){for(;t=t.parent;)if("form"===t.name)return t}function ri(){this._ractive.binding.handleChange()}function ii(){var t;Wm.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function si(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Wm.call(e),t._timeout=void 0},t.element.lazy)}function oi(t,e,n){var r=t+e+n;return $m[r]||($m[r]=[])}function ai(t){return t.isChecked}function ui(t){return t.element.getAttribute("value")}function hi(t){var e,n,r,i,s,o=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||o.contenteditable&&ci(o.contenteditable))&&ci(o.value)?n=zm:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(r=ci(o.name),i=ci(o.checked),r&&i&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),r?n="radio"===e?Hm:Gm:i&&(n="radio"===e?Qm:Jm)):"file"===e&&ci(o.value)?n=iv:ci(o.value)&&(n="number"===e||"range"===e?sv:Mm)):"select"===t.name&&ci(o.value)?n=t.getAttribute("multiple")?nv:tv:"textarea"===t.name&&ci(o.value)&&(n=Mm),n&&(s=new n(t))&&s.keypath?s:void 0}function ci(t){return t&&t.isBindable}function li(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function fi(t){$u(this.root,this.getAction(),{event:t})}function di(){return this.action.toString().trim()}function pi(t,e,n){var r,i,s,o=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&(l('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(i=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Gd(n.a.s,i.length),this.parentFragment=t.parentFragment,s=this.root,this.refResolvers=[],i.forEach(function(t,e){var n=void 0;(n=lv.exec(t))?o.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:o.refResolvers.push(Kd(o,t,function(t){return o.resolve(e,t)}))}),this.fire=mi):(r=n.n||n,"string"!=typeof r&&(r=new xw({template:r,root:this.root,owner:this})),this.action=r,n.d?(this.dynamicParams=new xw({template:n.d,root:this.root,owner:this.element}),this.fire=gi):n.a&&(this.params=n.a,this.fire=vi))}function mi(t){var e,n,r;if(e=this.root,"function"!=typeof e[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,s;if(void 0===n)return void 0;if(n.eventObject){if(r=t,i=n.refinements.length)for(s=0;i>s;s+=1)r=r[n.refinements[s]]}else r=e.viewmodel.get(n);return r}),Bu.enqueue(e,t),r=this.fn.apply(null,n),e[this.method].apply(e,r),Bu.dequeue(e)}function vi(t){$u(this.root,this.getAction(),{event:t,args:this.params})}function gi(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),$u(this.root,this.getAction(),{event:t,args:e})}function yi(t){var e,n,r,i={};e=this._ractive,n=e.events[t.type],(r=Zd(n.element.parentFragment))&&(i=Zd.resolve(r)),n.fire({node:this,original:t,index:i,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function wi(){var t,e=this.name;if(!this.invalid){if(t=g("events",this.root,e))this.custom=t(this.node,bi(e));else{if(!("on"+e in this.node||window&&"on"+e in window||ta))return void(mv[e]||v(Va(e,"event"),{node:this.node}));this.node.addEventListener(e,fv,!1)}this.hasListener=!0}}function bi(t){return pv[t]||(pv[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),pv[t]}function xi(t,e){function n(n){n&&n.rebind(t,e)}var r;return this.method?(r=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function ki(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Ei(t,e){this.keypaths[t]=e}function _i(){return this.method?void this.refResolvers.forEach(Z):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ai(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,fv,!1),this.hasListener=!1}function Si(){var t=this;this.dirty||(this.dirty=!0,yu.scheduleTask(function(){Ci(t),t.dirty=!1})),this.parentFragment.bubble()}function Ci(t){var e,n,r,i,s;e=t.node,e&&(i=I(e.options),n=t.getAttribute("value"),r=t.getAttribute("multiple"),void 0!==n?(i.forEach(function(t){var e,i;e=t._ractive?t._ractive.value:t.value,i=r?Oi(n,e):n==e,i&&(s=!0),t.selected=i}),s||(i[0]&&(i[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Oi(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Pi(t,e){t.select=Fi(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function Ti(t){t.select&&L(t.select.options,t)}function Fi(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function ji(t){var e,n,r,i,s,o,a;this.type=nc,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=r=e.root,this.index=t.index,this.key=t.key,this.name=am(n.e),"option"===this.name&&Pi(this,n),"select"===this.name&&(this.options=[],this.bubble=Si),"form"===this.name&&(this.formBindings=[]),a=sm(this,n),this.attributes=jm(this,n.a),this.conditionalAttributes=Dm(this,n.m),n.f&&(this.fragment=new xw({template:n.f,root:r,owner:this,pElement:this,cssIds:null})),o=r.twoway,a.twoway===!1?o=!1:a.twoway===!0&&(o=!0),this.twoway=o,this.lazy=a.lazy,o&&(i=ov(this,n.a))&&(this.binding=i,s=this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[]),s.push(i)),n.v&&(this.eventHandlers=Ev(this,n.v)),n.o&&(this.decorator=new Ov(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function Ri(t,e){function n(n){n.rebind(t,e)}var r,i,s,o;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),s=this.liveQueries)for(o=this.root,r=s.length;r--;)s[r]._makeDirty();this.node&&(i=this.node._ractive)&&k(i,"keypath",t,e)}function Ni(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),r=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==r&&t.node.setAttribute("height",r),t.node.removeEventListener("load",e,!1)},!1)}function Di(t){t.node.addEventListener("reset",Ii,!1)}function Li(t){t.node.removeEventListener("reset",Ii,!1)}function Ii(){var t=this._ractive.proxy;yu.start(),t.formBindings.forEach(Vi),yu.end()}function Vi(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Wi(t,e,n){var r,i,s;this.element=t,this.root=r=t.root,this.isIntro=n,i=e.n||e,("string"==typeof i||(s=new xw({template:i,root:r,owner:t}),i=s.toString(),s.unbind(),""!==i))&&(this.name=i,e.a?this.params=e.a:e.d&&(s=new xw({template:e.d,root:r,owner:t}),this.params=s.getArgsList(),s.unbind()),this._fn=g("transitions",r,i),this._fn||v(Va(i,"transition"),{ractive:this.root}))}function Mi(t){return t}function Ui(){ig.hidden=document[tg]}function zi(){ig.hidden=!0}function Bi(){ig.hidden=!1}function $i(){var t,e,n,r=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(i){n||(!i&&r.isIntro&&qi(t,e),t._ractive.transition=null,r._manager.remove(r),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function qi(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function Qi(){var t,e,n,r=this,i=this.root;return t=Zi(this),e=this.node=la(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),Aa(this.node,"_ractive",{value:{proxy:this,keypath:cu(this.parentFragment),events:_a(null),root:i}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=mg,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Ea):"style"===this.name?(this.bubble=pg,this.bubble(),this.fragment.unrender=Ea):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Ea:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Hi(this),"img"===this.name?Ni(this):"form"===this.name?Di(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&yu.scheduleTask(function(){r.decorator.torndown||r.decorator.init()},!0),i.transitionsEnabled&&this.intro&&(n=new vg(this,this.intro,!0),yu.registerTransition(n),yu.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&yu.scheduleTask(function(){return r.node.focus()},!0),Ki(this),this.node}function Zi(t){var e,n,r;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?ra.svg:(r=t.parent)?"foreignObject"===r.name?ra.html:r.node.namespaceURI:t.root.el.namespaceURI}function Hi(t){var e,n,r;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&s(n)){for(r=n.length;r--;)if(e==n[r]){t.node.selected=!0;break}}else t.node.selected=e==n}function Ki(t){var e,n,r,i,s;e=t.root;do for(n=e._liveQueries,r=n.length;r--;)i=n[r],s=n["_"+i],s._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(s);while(e=e.parent)}function Gi(t){var e,n,r;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&s(n))for(r=n.length;r--;)if(n[r]==e)return!0}function Yi(t){var e,n,r,i;return e=t.attributes,n=e.type,r=e.value,i=e.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function Ji(t){var e=t.toString();return e?" "+e:""}function Xi(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Z),"option"===this.name&&Ti(this),this.attributes.forEach(Z),this.conditionalAttributes.forEach(Z)}function ts(t){var e,n,r;(r=this.transition)&&r.complete(),"option"===this.name?this.detach():t&&yu.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(H),this.decorator&&yu.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(r=new vg(this,this.outro,!1),yu.registerTransition(r),yu.scheduleTask(function(){return r.start()})),this.liveQueries&&es(this),"form"===this.name&&Li(this)}function es(t){var e,n,r;for(r=t.liveQueries.length;r--;)e=t.liveQueries[r],n=e.selector,e._remove(t.node)}function ns(t,e){var n=_g.exec(e)[0];return null===t||n.length<t.length?n:t}function rs(t,e,n){var r;if(r=is(t,e,n||{}))return r;if(r=cd.fromId(e,{noThrow:!0})){r=Ag(r);var i=cd.parse(r,cd.getParseOptions(t));return t.partials[e]=i.t;

}}function is(t,e,n){var r=void 0,i=as(e,n.owner);if(i)return i;var s=y("partials",t,e);if(s){if(i=s.partials[e],"function"==typeof i&&(r=i.bind(s),r.isOwner=s.partials.hasOwnProperty(e),i=r.call(t,cd)),!i&&""!==i)return void m(Ia,e,"partial","partial",{ractive:t});if(!cd.isParsed(i)){var o=cd.parse(i,cd.getParseOptions(s));o.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=r?s:ss(s,e);a.partials[e]=i=o.t}return r&&(i._fn=r),i.v?i.t:i}}function ss(t,e){return t.partials.hasOwnProperty(e)?t:os(t.constructor,e)}function os(t,e){return t?t.partials.hasOwnProperty(e)?t:os(t._Parent,e):void 0}function as(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return as(t,e.parentFragment.owner)}}function us(t,e){var n,r=y("components",t,e);if(r&&(n=r.components[e],!n._Parent)){var i=n.bind(r);if(i.isOwner=r.components.hasOwnProperty(e),n=i(),!n)return void m(Ia,e,"component","component",{ractive:t});"string"==typeof n&&(n=us(t,n)),n._fn=i,r.components[e]=n}return n}function hs(){var t=this.instance.fragment.detach();return Lg.fire(this.instance),t}function cs(t){return this.instance.fragment.find(t)}function ls(t,e){return this.instance.fragment.findAll(t,e)}function fs(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function ds(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function ps(){return this.parentFragment.findNextNode(this)}function ms(){return this.rendered?this.instance.fragment.firstNode():null}function vs(t,e,n){function r(t){var n,r;t.value=e,t.updating||(r=t.ractive,n=t.keypath,t.updating=!0,yu.start(r),r.viewmodel.mark(n),yu.end(),t.updating=!1)}var i,s,o,a,u,h;if(i=t.obj,s=t.prop,n&&!n.configurable){if("length"===s)return;throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable')}n&&(o=n.get,a=n.set),u=o||function(){return e},h=function(t){a&&a(t),e=o?o():t,h._ractiveWrappers.forEach(r)},h._ractiveWrappers=[t],Object.defineProperty(i,s,{get:u,set:h,enumerable:!0,configurable:!0})}function gs(t,e){var n,r,i,s;if(this.adaptors)for(n=this.adaptors.length,r=0;n>r;r+=1)if(i=this.adaptors[r],i.filter(e,t,this.ractive))return s=this.wrapped[t]=i.wrap(this.ractive,e,t,ws(t)),void(s.value=e)}function ys(t,e){var n,r={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(r[e+n]=t[n]);return r}function ws(t){var e;return oy[t]||(e=t?t+".":"",oy[t]=function(n,r){var i;return"string"==typeof n?(i={},i[e+n]=r,i):"object"==typeof n?e?ys(n,t):n:void 0}),oy[t]}function bs(t){var e,n,r=[Ga];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&F(r,n),n=n.parent;return r}function xs(t,e,n){var r;Es(t,e),n||(r=e.wildcardMatches(),r.forEach(function(n){ks(t,n,e)}))}function ks(t,e,n){var r,i,s;e=e.str||e,r=t.depsMap.patternObservers,i=r&&r[e],i&&i.forEach(function(e){s=n.join(e.lastKey),Es(t,s),ks(t,e,s)})}function Es(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function _s(){function t(t){var r=t.key;t.viewmodel===o?(o.clearCache(r.str),t.invalidate(),n.push(r),e(r)):t.viewmodel.mark(r)}function e(n){var r,i;o.noCascade.hasOwnProperty(n.str)||((i=o.deps.computed[n.str])&&i.forEach(t),(r=o.depsMap.computed[n.str])&&r.forEach(e))}var n,r,i,s=this,o=this,a={};return n=this.changes,n.length?(n.slice().forEach(e),r=ay(n),r.forEach(function(e){var r;-1===n.indexOf(e)&&(r=o.deps.computed[e.str])&&r.forEach(t)}),this.changes=[],this.patternObservers.length&&(r.forEach(function(t){return uy(s,t,!0)}),n.forEach(function(t){return uy(s,t)})),this.deps.observers&&(r.forEach(function(t){return As(s,null,t,"observers")}),Cs(this,n,"observers")),this.deps["default"]&&(i=[],r.forEach(function(t){return As(s,i,t,"default")}),i.length&&Ss(this,i,n),Cs(this,n,"default")),n.forEach(function(t){a[t.str]=s.get(t)}),this.implicitChanges={},this.noCascade={},a):void 0}function As(t,e,n,r){var i,s;(i=Os(t,n,r))&&(s=t.get(n),i.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(s)}))}function Ss(t,e,n){e.forEach(function(e){for(var r=!1,i=0,s=n.length,o=[];s>i;){var a=n[i];if(a===e.keypath){r=!0;break}a.slice(0,e.keypath.length)===e.keypath&&o.push(a),i++}r&&e.setValue(t.get(e.keypath)),o.length&&e.refineValue(o)})}function Cs(t,e,n){function r(t){t.forEach(i),t.forEach(s)}function i(e){var r=Os(t,e,n);r&&a.push({keypath:e,deps:r})}function s(e){var i;(i=t.depsMap[n][e.str])&&r(i)}function o(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var a=[];r(e),a.forEach(o)}function Os(t,e,n){var r=t.deps[n];return r?r[e.str]:null}function Ps(){this.captureGroups.push([])}function Ts(t,e){var n,r;if(e||(r=this.wrapped[t])&&r.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Fs(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function js(t,e){var n=new my(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function Rs(t,e){var n,r,i,s,o,a=this.cache,u=t.str;if(e=e||wy,e.capture&&(s=D(this.captureGroups))&&(~s.indexOf(t)||s.push(t)),ja.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===a[u]?((r=this.computations[u])&&!r.bypass?(n=r.get(),this.adapt(u,n)):(i=this.wrapped[u])?n=i.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=Ns(this,t),a[u]=n):n=a[u],!e.noUnwrap&&(i=this.wrapped[u])&&(n=i.get()),t.isRoot&&e.fullRootGet)for(o in this.mappings)n[o]=this.mappings[o].getValue();return n===gy?void 0:n}function Ns(t,e){var n,r,i,s;return n=t.get(e.parent),(s=t.wrapped[e.parent.str])&&(n=s.get()),null!==n&&void 0!==n?((r=t.cacheMap[e.parent.str])?-1===r.indexOf(e.str)&&r.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(i=n[e.lastKey],t.adapt(e.str,i,!1),t.cache[e.str]=i,i):t.cache[e.str]=gy):void 0}function Ds(){var t;for(t in this.computations)this.computations[t].init(this)}function Ls(t,e){var n=this.mappings[t.str]=new ky(t,e);return n.initViewmodel(this),n}function Is(t,e){var n,r=t.str;e&&(e.implicit&&(this.implicitChanges[r]=!0),e.noCascade&&(this.noCascade[r]=!0)),(n=this.computations[r])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var i=e?e.keepExistingWrapper:!1;this.clearCache(r,i),this.ready&&this.onchange()}function Vs(t,e,n,r){var i,s,o,a;if(this.mark(t),r&&r.compare){o=Ms(r.compare);try{i=e.map(o),s=n.map(o)}catch(u){m('merge(): "%s" comparison failed. Falling back to identity checking',t),i=e,s=n}}else i=e,s=n;a=_y(i,s),this.smartUpdate(t,n,a,e.length!==n.length)}function Ws(t){return JSON.stringify(t)}function Ms(t){if(t===!0)return Ws;if("string"==typeof t)return Sy[t]||(Sy[t]=function(e){return e[t]}),Sy[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Us(t,e){var n,r,i,s=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,s):(r=this.deps[s]||(this.deps[s]={}),i=r[t.str]||(r[t.str]=[]),i.push(e),this.depsMap[s]||(this.depsMap[s]={}),t.isRoot||zs(this,t,s)))}function zs(t,e,n){for(var r,i,s;!e.isRoot;)r=t.depsMap[n],i=r[e.parent.str]||(r[e.parent.str]=[]),s=e.str,void 0===i["_"+s]&&(i["_"+s]=0,i.push(e)),i["_"+s]+=1,e=e.parent}function Bs(){return this.captureGroups.pop()}function $s(t){this.data=t,this.clearCache("")}function qs(t,e){var n,r,i,s,o=void 0===arguments[2]?{}:arguments[2];if(!o.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(r=this.computations[t.str]){if(r.setting)return;r.set(e),e=r.get()}a(this.cache[t.str],e)||(i=this.wrapped[t.str],i&&i.reset&&(s=i.reset(e)!==!1,s&&(e=i.get())),r||s||Qs(this,t,e),o.silent?this.clearCache(t.str):this.mark(t))}function Qs(t,e,n){var r,i,s,o;s=function(){r.set?r.set(e.lastKey,n):(i=r.get(),o())},o=function(){i||(i=ty(e.lastKey),t.set(e.parent,i,{silent:!0})),i[e.lastKey]=n},r=t.wrapped[e.parent.str],r?s():(i=t.get(e.parent),(r=t.wrapped[e.parent.str])?s():o())}function Zs(t,e,n){var r,i,s,o=this;if(i=n.length,n.forEach(function(e,n){-1===e&&o.mark(t.join(n),Ry)}),this.set(t,e,{silent:!0}),(r=this.deps["default"][t.str])&&r.filter(Hs).forEach(function(t){return t.shuffle(n,e)}),i!==e.length){for(this.mark(t.join("length"),jy),s=n.touchedFrom;s<e.length;s+=1)this.mark(t.join(s));for(s=e.length;i>s;s+=1)this.mark(t.join(s),Ry)}}function Hs(t){return"function"==typeof t.shuffle}function Ks(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Gs(t,e){var n,r,i,s=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,s);if(r=this.deps[s][t.str],i=r.indexOf(e),-1===i)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");r.splice(i,1),t.isRoot||Ys(this,t,s)}}function Ys(t,e,n){for(var r,i;!e.isRoot;)r=t.depsMap[n],i=r[e.parent.str],i["_"+e.str]-=1,i["_"+e.str]||(L(i,e),i["_"+e.str]=void 0),e=e.parent}function Js(t){this.hook=new su(t),this.inProcess={},this.queue={}}function Xs(t,e){return t[e._guid]||(t[e._guid]=[])}function to(t,e){var n=Xs(t.queue,e);for(t.hook.fire(e);n.length;)to(t,n.shift());delete t.queue[e._guid]}function eo(t,e){var n,r={};for(n in e)r[n]=no(t,n,e[n]);return r}function no(t,e,n){var r,i;return"function"==typeof n&&(r=io(n,t)),"string"==typeof n&&(r=ro(t,n)),"object"==typeof n&&("string"==typeof n.get?r=ro(t,n.get):"function"==typeof n.get?r=io(n.get,t):l("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(i=io(n.set,t))),{getter:r,setter:i}}function ro(t,e){var n,r,i;return n="return ("+e.replace(My,function(t,e){return r=!0,'__ractive.get("'+e+'")'})+");",r&&(n="var __ractive = this; "+n),i=new Function(n),r?i.bind(t):i}function io(t,e){return/this/.test(t.toString())?t.bind(e):t}function so(e){var n,i,s=void 0===arguments[1]?{}:arguments[1],o=void 0===arguments[2]?{}:arguments[2];if(Kw.DEBUG&&Fa(),uo(e,o),Aa(e,"data",{get:ho}),Uy.fire(e,s),qy.forEach(function(t){e[t]=r(_a(e.constructor[t]||null),s[t])}),i=new Iy({adapt:oo(e,e.adapt,s),data:$h.init(e.constructor,e,s),computed:Wy(e,r(_a(e.constructor.prototype.computed),s.computed)),mappings:o.mappings,ractive:e,onchange:function(){return yu.addRactive(e)}}),e.viewmodel=i,i.init(),kd.init(e.constructor,e,s),zy.fire(e),By.begin(e),e.template){var a=void 0;(o.cssIds||e.cssId)&&(a=o.cssIds?o.cssIds.slice():[],e.cssId&&a.push(e.cssId)),e.fragment=new xw({template:e.template,root:e,owner:e,cssIds:a})}if(By.end(e),n=t(e.el)){var u=e.render(n,e.append);Kw.DEBUG_PROMISES&&u["catch"](function(t){throw v("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:e}),t.stack&&f(t.stack),t})}}function oo(t,e,n){function r(e){return"string"==typeof e&&(e=g("adaptors",t,e),e||l(Va(e,"adaptor"))),e}var i,s,o;if(e=e.map(r),i=N(n.adapt).map(r),i=ao(e,i),s="magic"in n?n.magic:t.magic,o="modifyArrays"in n?n.modifyArrays:t.modifyArrays,s){if(!na)throw new Error("Getters and setters (magic mode) are not supported in this browser");o&&i.push(iy),i.push(ry)}return o&&i.push(Jg),i}function ao(t,e){for(var n=t.slice(),r=e.length;r--;)~n.indexOf(e[r])||n.push(e[r]);return n}function uo(t,e){t._guid="r-"+$y++,t._subs=_a(null),t._config={},t._twowayBindings=_a(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function ho(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function co(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new xw({template:e,root:t.root,owner:this}),this.update()}function lo(t,e,n){var r;return e.r?r=Kd(t,e.r,n):e.x?r=new Xd(t,t.parentFragment,e.x,n):e.rx&&(r=new rp(t,e.rx,n)),r}function fo(t){return 1===t.length&&t[0].t===Yh}function po(t,e){var n;for(n in e)e.hasOwnProperty(n)&&mo(t.instance,t.root,n,e[n])}function mo(t,e,n,r){"string"!=typeof r&&l("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),$u(e,r,{event:t,args:n}),!1})}function vo(t,e){var n,r;if(!e)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,r=n.root,this.root=r,this.type=uc,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],Hy(this,e,t.template.a,t.template.f,t.template.p),Ky(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Gy(this)}function go(t,e){function n(n){n.rebind(t,e)}var r;this.resolvers.forEach(n);for(var i in this.yielders)this.yielders[i][0]&&n(this.yielders[i][0]);(r=this.root._liveComponentQueries["_"+this.name])&&r._makeDirty()}function yo(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function wo(){return this.instance.fragment.toString()}function bo(){var t=this.instance;this.resolvers.forEach(Z),xo(this),t._observers.forEach(K),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&L(t.el.__ractive_instances__,t),nw.fire(t)}function xo(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function ko(t){this.shouldDestroy=t,this.instance.unrender()}function Eo(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,r){return _o({parentFragment:e,pElement:t.pElement,template:n,index:r})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function _o(t){if("string"==typeof t.template)return new Id(t);switch(t.template.t){case hc:return new hw(t);case Yh:return new hp(t);case Xh:return new Pp(t);case Jh:return new Zp(t);case nc:var e=void 0;return(e=Ng(t.parentFragment.root,t.template.e))?new sw(t,e):new kg(t);case rc:return new Rg(t);case ic:return new aw(t);case lc:return new lw(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Ao(t,e){(!this.owner||this.owner.hasContext)&&k(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function So(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function Co(t){return this.items?this.items.map(t?Po:Oo).join(""):""}function Oo(t){return t.toString()}function Po(t){return t.toString(!0)}function To(){this.bound&&(this.items.forEach(Fo),this.bound=!1)}function Fo(t){t.unbind&&t.unbind()}function jo(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function Ro(t){var e,n,r,i,s;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),r=kd.reset(this),i=r.length;i--;)if(Ew.indexOf(r[i])>-1){s=!0;break}if(s){var o=void 0;this.viewmodel.mark(Ga),(o=this.component)&&(o.shouldDestroy=!0),this.unrender(),o&&(o.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new xw({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=yu.start(this,!0),this.viewmodel.mark(Ga),yu.end();return _w.fire(this,t),e}function No(t){var e,n;fd.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new xw({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function Do(t,e){var n,r;if(r=yu.start(this,!0),h(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Lo(this,t,e))}else Lo(this,t,e);return yu.end(),r}function Lo(t,e,n){e=_(C(e)),e.isPattern?A(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function Io(t,e){return Ya(this,t,void 0===e?-1:-e)}function Vo(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(K),this.fragment.rendered&&this.el.__ractive_instances__&&L(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():hu.resolve(),Nw.fire(this),this._boundFunctions.forEach(Wo),t}function Wo(t){delete t.fn[t.prop]}function Mo(t){var e=this;if("string"!=typeof t)throw new TypeError(La);var n=void 0;return/\*/.test(t)?(n={},A(this,_(C(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function Uo(){return this.fragment.toString(!0)}function zo(){var t,e;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),hu.resolve();for(t=yu.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),L(this.el.__ractive_instances__,this),Vw.fire(this),yu.end(),t}function Bo(t){var e;return t=_(t)||Ga,e=yu.start(this,!0),this.viewmodel.mark(t),yu.end(),Uw.fire(this,t),e}function $o(t,e){var n,r,i;if("string"!=typeof t||e){i=[];for(r in this._twowayBindings)(!t||_(r).equalsOrStartsWith(t))&&i.push.apply(i,this._twowayBindings[r])}else i=this._twowayBindings[t];return n=qo(this,i),this.set(n)}function qo(t,e){var n={},r=[];return e.forEach(function(t){var e,i;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(r[t.keypath.str]||t.changed()||(r.push(t.keypath),r[t.keypath.str]=t));e=t.attribute.value,i=t.getValue(),R(e,i)||a(e,i)||(n[t.keypath.str]=i)}}),r.length&&r.forEach(function(t){var e,i,s;e=r[t.str],i=e.attribute.value,s=e.getValue(),R(i,s)||(n[t.str]=s)}),n}function Qo(t,e){return"function"==typeof e&&/_super/.test(t)}function Zo(t){for(var e={};t;)Ho(t,e),Go(t,e),t=t._Parent!==Kw?t._Parent:!1;return e}function Ho(t,e){wd.forEach(function(n){Ko(n.useDefaults?t.prototype:t,e,n.name)})}function Ko(t,e,n){var r,i=Object.keys(t[n]);i.length&&((r=e[n])||(r=e[n]={}),i.filter(function(t){return!(t in r)}).forEach(function(e){return r[e]=t[n][e]}))}function Go(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var r=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof r&&e[n]._method){var i=void 0,s=r._method;s&&(r=r._method),i=$w(e[n]._method,r),s&&(i._method=i),e[n]=i}}else e[n]=r._method?r._method:r}})}function Yo(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(Jo,this):Jo(this)}function Jo(t){var e,n,i=void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof Kw&&(i=qw(i)),e=function(t){return this instanceof e?void Qy(this,t):new e(t)},n=_a(t.prototype),n.constructor=e,Sa(e,{defaults:{value:n},extend:{value:Yo,writable:!0,configurable:!0},_Parent:{value:t}}),kd.extend(t,n,i),$h.extend(t,n,i),i.computed&&(n.computed=r(_a(t.prototype.computed),i.computed)),e.prototype=n,e}var Xo,ta,ea,na,ra,ia,sa,oa=3,aa={el:void 0,append:!1,template:{v:oa,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},ua=aa,ha={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Xo="object"==typeof document,ta="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),ea="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),na=!0}catch(ca){na=!1}ra={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ia="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),sa=["o","ms","moz","webkit"];var la,fa,da,pa,ma,va,ga,ya,wa;if(la=ia?function(t,e){return e&&e!==ra.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==ra.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Xo){for(da=la("div"),pa=["matches","matchesSelector"],wa=function(t){return function(e,n){return e[t](n)}},ga=pa.length;ga--&&!fa;)if(ma=pa[ga],da[ma])fa=wa(ma);else for(ya=sa.length;ya--;)if(va=sa[ga]+ma.substr(0,1).toUpperCase()+ma.substring(1),da[va]){fa=wa(va);break}fa||(fa=function(t,e){var n,r,i;for(r=t.parentNode,r||(da.innerHTML="",r=da,t=t.cloneNode(),da.appendChild(t)),n=r.querySelectorAll(e),i=n.length;i--;)if(n[i]===t)return!0;return!1})}else fa=null;var ba,xa,ka,Ea=function(){};"undefined"==typeof window?ka=null:(ba=window,xa=ba.document,ka={},xa||(ka=null),Date.now||(Date.now=function(){return+new Date}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var s=[];for(var o in i)t.call(i,o)&&s.push(o);if(e)for(var a=0;r>a;a++)t.call(i,n[a])&&s.push(n[a]);return s}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n;for(void 0===e&&(e=0),0>e&&(e+=this.length),0>e&&(e=0),n=this.length;n>e;e++)if(this.hasOwnProperty(e)&&this[e]===t)return e;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;for(n=0,r=this.length;r>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,i,s=this,o=[];for(s instanceof String&&(s=s.toString(),i=!0),n=0,r=s.length;r>n;n+=1)(s.hasOwnProperty(n)||i)&&(o[n]=t.call(e,s[n],n,s));return o}),"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var n,r,i,s;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(i=this.length,s=!1,arguments.length>1&&(r=e,s=!0),n=0;i>n;n+=1)this.hasOwnProperty(n)?s&&(r=t(r,this[n],n,this)):(r=this[n],s=!0);if(!s)throw new TypeError("Reduce of empty array with no initial value");return r}),Array.prototype.filter||(Array.prototype.filter=function(t,e){var n,r,i=[];for(n=0,r=this.length;r>n;n+=1)this.hasOwnProperty(n)&&t.call(e,this[n],n,this)&&(i[i.length]=this[n]);return i}),Array.prototype.every||(Array.prototype.every=function(t,e){var n,r,i;if(null==this)throw new TypeError;if(n=Object(this),r=n.length>>>0,"function"!=typeof t)throw new TypeError;for(i=0;r>i;i+=1)if(i in n&&!t.call(e,n[i],i,n))return!1;return!0}),"function"!=typeof Function.prototype.bind&&(Function.prototype.bind=function(t){var e,n,r,i,s=[].slice;if("function"!=typeof this)throw new TypeError("Function.prototype.bind called on non-function");return e=s.call(arguments,1),n=this,r=function(){},i=function(){var i=this instanceof r&&t?this:t;return n.apply(i,e.concat(s.call(arguments)))},r.prototype=this.prototype,i.prototype=new r,i}),ba.addEventListener||!function(t,e){var n,r,i,s,o,a;t.appearsToBeIELessEqual8=!0,n=function(t,e){var n,r=this;for(n in t)r[n]=t[n];r.currentTarget=e,r.target=t.srcElement||e,r.timeStamp=+new Date,r.preventDefault=function(){t.returnValue=!1},r.stopPropagation=function(){t.cancelBubble=!0}},r=function(t,e){var r,i,s=this;r=s.listeners||(s.listeners=[]),i=r.length,r[i]=[e,function(t){e.call(s,new n(t,s))}],s.attachEvent("on"+t,r[i][1])},i=function(t,e){var n,r,i=this;if(i.listeners)for(n=i.listeners,r=n.length;r--;)n[r][0]===e&&i.detachEvent("on"+t,n[r][1])},t.addEventListener=e.addEventListener=r,t.removeEventListener=e.removeEventListener=i,"Element"in t?(t.Element.prototype.addEventListener=r,t.Element.prototype.removeEventListener=i):(a=e.createElement,e.createElement=function(t){var e=a(t);return e.addEventListener=r,e.removeEventListener=i,e},s=e.getElementsByTagName("head")[0],o=e.createElement("style"),s.insertBefore(o,s.firstChild))}(ba,xa),ba.getComputedStyle||(ka.getComputedStyle=function(){function t(n,r,i,s){var o,a=r[i],u=parseFloat(a),h=a.split(/\d/)[0];return isNaN(u)&&/^thin|medium|thick$/.test(a)&&(u=e(a),h=""),s=null!=s?s:/%|em/.test(h)&&n.parentElement?t(n.parentElement,n.parentElement.currentStyle,"fontSize",null):16,o="fontSize"==i?s:/width/i.test(i)?n.clientWidth:n.clientHeight,"em"==h?u*s:"in"==h?96*u:"pt"==h?96*u/72:"%"==h?u/100*o:u}function e(t){var e,n;return s[t]||(e=document.createElement("div"),e.style.display="block",e.style.position="fixed",e.style.width=e.style.height="0",e.style.borderRight=t+" solid black",document.getElementsByTagName("body")[0].appendChild(e),n=e.getBoundingClientRect(),s[t]=n.right-n.left),s[t]}function n(t,e){var n="border"==e?"Width":"",r=e+"Top"+n,i=e+"Right"+n,s=e+"Bottom"+n,o=e+"Left"+n;t[e]=(t[r]==t[i]==t[s]==t[o]?[t[r]]:t[r]==t[s]&&t[o]==t[i]?[t[r],t[i]]:t[o]==t[i]?[t[r],t[i],t[s]]:[t[r],t[i],t[s],t[o]]).join(" ")}function r(e){var r,i,s,a;r=e.currentStyle,i=this,s=t(e,r,"fontSize",null);for(a in r)"normal"===r[a]&&o.hasOwnProperty(a)?i[a]=o[a]:/width|height|margin.|padding.|border.+W/.test(a)?"auto"===r[a]?/^width|height/.test(a)?i[a]=("width"===a?e.clientWidth:e.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(a)&&(i[a]="0px"):i[a]=t(e,r,a,s)+"px":"styleFloat"===a?i["float"]=r[a]:i[a]=r[a];return n(i,"margin"),n(i,"padding"),n(i,"border"),i.fontSize=s+"px",i}function i(t){return new r(t)}var s={},o={fontWeight:400,lineHeight:1.2,letterSpacing:0};return r.prototype={constructor:r,getPropertyPriority:Ea,getPropertyValue:function(t){return this[t]||""},item:Ea,removeProperty:Ea,setProperty:Ea,getPropertyCSSValue:Ea},i}()));var _a,Aa,Sa,Ca=ka;try{Object.defineProperty({},"test",{value:0}),Xo&&Object.defineProperty(document.createElement("div"),"test",{value:0}),Aa=Object.defineProperty}catch(Oa){Aa=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Oa){throw Oa}Xo&&Object.defineProperties(la("div"),{test:{value:0}}),Sa=Object.defineProperties}catch(Oa){Sa=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&Aa(t,n,e[n])}}try{Object.create(null),_a=Object.create}catch(Oa){_a=function(){var t=function(){};return function(e,n){var r;return null===e?{}:(t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r)}}()}var Pa,Ta,Fa,ja=Object.prototype.hasOwnProperty,Ra=Object.prototype.toString,Na=/^\[object (?:Array|FileList)\]$/,Da={};ea?!function(){var t=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Fa=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),Fa=Ea},Ta=function(t,e){if(Fa(),"object"==typeof e[e.length-1]){var n=e.pop(),r=n?n.ractive:null;if(r){var i=void 0;r.component&&(i=r.component.name)&&(t="<"+i+"> "+t);var s=void 0;(s=n.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&e.push(s)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Pa=function(){console.log.apply(console,arguments)}}():Ta=Pa=Fa=Ea;var La="Bad arguments",Ia='A function was specified for "%s" %s, but no %s was returned',Va=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Wa=function(t,e,n,r){if(t===e)return w(e);if(r){var i=g("interpolators",n,r);if(i)return i(t,e)||w(e);l(Va(r,"interpolator"))}return za.number(t,e)||za.array(t,e)||za.object(t,e)||w(e)},Ma=Wa,Ua={number:function(t,e){var n;return u(t)&&u(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,r,i,o;if(!s(t)||!s(e))return null;for(n=[],r=[],o=i=Math.min(t.length,e.length);o--;)r[o]=Ma(t[o],e[o]);for(o=i;o<t.length;o+=1)n[o]=t[o];for(o=i;o<e.length;o+=1)n[o]=e[o];return function(t){for(var e=i;e--;)n[e]=r[e](t);return n}},object:function(t,e){var n,r,i,s,o;if(!h(t)||!h(e))return null;n=[],s={},i={};for(o in t)ja.call(t,o)&&(ja.call(e,o)?(n.push(o),i[o]=Ma(t[o],e[o])):s[o]=t[o]);for(o in e)ja.call(e,o)&&!ja.call(t,o)&&(s[o]=e[o]);return r=n.length,function(t){for(var e,o=r;o--;)e=n[o],s[e]=i[e](t);return s}}},za=Ua,Ba=b,$a={},qa=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Qa=/\*/,Za={},Ha=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=E(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=Qa.test(t),this.parent=""===t?null:_(e.join(".")),this.isRoot=!t};Ha.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return _(this.isRoot?String(t):this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:_(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Ba(this.str))}};var Ka,Ga=_(""),Ya=O,Ja="Cannot add to a non-numeric value",Xa=P;"undefined"==typeof window?Ka=null:(!function(t,e,n){var r,i;

if(!n.requestAnimationFrame){for(r=0;r<t.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[t[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(t){var n,r,s;return n=Date.now(),r=Math.max(0,16-(n-e)),s=i(function(){t(n+r)},r),e=n+r,s})}}(sa,0,window),Ka=window.requestAnimationFrame);var tu,eu=Ka;tu="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var nu=tu,ru={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};T.prototype.fire=function(t,e){function n(n){return t[n]?(e?t[n](e):t[n](),!0):void 0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var iu,su=T,ou={},au={},uu={};"function"==typeof Promise?iu=Promise:(iu=function(t){var e,n,r,i,s,o,a=[],u=[],h=ou;r=function(t){return function(r){h===ou&&(e=r,h=t,n=W(h===au?a:u,e),V(n))}},i=r(au),s=r(uu);try{t(i,s)}catch(c){s(c)}return o={then:function(t,e){var r=new iu(function(i,s){var o=function(t,e,n){e.push("function"==typeof t?function(e){var n;try{n=t(e),M(r,n,i,s)}catch(o){s(o)}}:n)};o(t,a,i),o(e,u,s),h!==ou&&V(n)});return r}},o["catch"]=function(t){return this.then(null,t)},o},iu.all=function(t){return new iu(function(e,n){var r,i,s,o=[];if(!t.length)return void e(o);for(s=function(t,i){t&&"function"==typeof t.then?t.then(function(t){o[i]=t,--r||e(o)},n):(o[i]=t,--r||e(o))},r=i=t.length;i--;)s(t[i],i)})},iu.resolve=function(t){return new iu(function(e){e(t)})},iu.reject=function(t){return new iu(function(e,n){n(t)})});var hu=iu,cu=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Ga},lu=U,fu=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};fu.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,J(this)},decrementTotal:function(){this.totalChildren-=1,J(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;L(e,t),J(this)},init:function(){this.ready=!0,J(this)},detachNodes:function(){this.decoratorQueue.forEach(Q),this.detachQueue.forEach(G),this.children.forEach(Y)}};var du,pu,mu=fu,vu=[],gu=new su("change");pu={start:function(t,e){var n,r;return e&&(n=new hu(function(t){return r=t})),du={previousBatch:du,transitionManager:new mu(r,du&&du.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&du.ractives.push(t),n},end:function(){X(),du.transitionManager.init(),!du.previousBatch&&du.instance&&(du.instance.viewmodel.changes=[]),du=du.previousBatch},addRactive:function(t){du&&F(du.ractives,t)},registerTransition:function(t){t._manager=du.transitionManager,du.transitionManager.add(t)},registerDecorator:function(t){du.transitionManager.addDecorator(t)},addView:function(t){du.views.push(t)},addUnresolved:function(t){vu.push(t)},removeUnresolved:function(t){L(vu,t)},detachWhenReady:function(t){du.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(du){for(n=du;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var yu=pu,wu=[],bu={tick:function(){var t,e,n;for(n=nu(),yu.start(),t=0;t<wu.length;t+=1)e=wu[t],e.tick(n)||wu.splice(t--,1);yu.end(),wu.length?eu(bu.tick):bu.running=!1},add:function(t){wu.push(t),bu.running||(bu.running=!0,eu(bu.tick))},abort:function(t,e){for(var n,r=wu.length;r--;)n=wu[r],n.root===e&&n.keypath===t&&n.stop()}},xu=bu,ku=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Ma(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};ku.prototype={tick:function(){var t,e,n,r,i,s;return s=this.keypath,this.running?(r=Date.now(),t=r-this.startTime,t>=this.duration?(null!==s&&(yu.start(this.root),this.root.viewmodel.set(s,this.to),yu.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),-1===i&&m("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==s&&(n=this.interpolator(e),yu.start(this.root),this.root.viewmodel.set(s,n),yu.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&m("Animation was not found"),this.root._animations.splice(t,1)}};var Eu=ku,_u=nt,Au={stop:Ea},Su=it,Cu=new su("detach"),Ou=st,Pu=ot,Tu=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},Fu=function(t,e){var n,r,i,s,o,a,u,h,c,l;for(n=ut(t.component||t._ractive.proxy),r=ut(e.component||e._ractive.proxy),i=D(n),s=D(r);i&&i===s;)n.pop(),r.pop(),o=i,i=D(n),s=D(r);if(i=i.component||i,s=s.component||s,c=i.parentFragment,l=s.parentFragment,c===l)return a=c.items.indexOf(i),u=l.items.indexOf(s),a-u||n.length-r.length;if(h=o.fragments)return a=h.indexOf(c),u=h.indexOf(l),a-u||n.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},ju=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):Fu(t,e)},Ru=function(){this.sort(this._isComponentQuery?Fu:ju),this._dirty=!1},Nu=function(){var t=this;this._dirty||(this._dirty=!0,yu.scheduleTask(function(){t._sort()}))},Du=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},Lu=ht,Iu=ct,Vu=lt,Wu=ft,Mu=dt,Uu=pt,zu={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Bu=zu,$u=mt,qu=yt,Qu=wt,Zu={capture:!0,noUnwrap:!0,fullRootGet:!0},Hu=bt,Ku=new su("insert"),Gu=kt,Yu=function(t,e,n,r){this.root=t,this.keypath=e,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:t};Yu.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;a(t,this.value)||(this.value=t,this.defer&&this.ready?yu.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Ju,Xu=Yu,th=Et,eh=Array.prototype.slice;Ju=function(t,e,n,r){this.root=t,this.callback=n,this.defer=r.defer,this.keypath=e,this.regex=new RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:t},Ju.prototype={init:function(t){var e,n;if(e=th(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(_(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=th(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(_(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void yu.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,r,i;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,a(n,this.values[e])&&this.ready||(r=eh.call(this.regex.exec(e),1),i=[n,this.values[e],e].concat(r),this.values[e]=n,this.callback.apply(this.context,i)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var nh,rh,ih,sh,oh,ah,uh=Ju,hh=_t,ch={},lh=At,fh=St,dh=function(t){return t.trim()},ph=function(t){return""!==t},mh=Ct,vh=Ot,gh=Pt,yh=Tt,wh=Array.prototype,bh=function(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;n>i;i++)r[i-1]=arguments[i];var o,a,u,h,c=[];if(e=_(C(e)),o=this.viewmodel.get(e),a=o.length,!s(o))throw new Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return c=yh(o,t,r),h=wh[t].apply(o,r),u=yu.start(this,!0).then(function(){return h}),c?this.viewmodel.smartUpdate(e,o,c):this.viewmodel.mark(e),yu.end(),u}},xh=bh("pop"),kh=bh("push"),Eh="/* Ractive.js component styles */\n",_h=[],Ah=!1;Xo?(ih=document.createElement("style"),ih.type="text/css",sh=document.getElementsByTagName("head")[0],ah=!1,oh=ih.styleSheet,rh=function(){var t=Eh+_h.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");oh?oh.cssText=t:ih.innerHTML=t,ah||(sh.appendChild(ih),ah=!0)},nh={add:function(t){_h.push(t),Ah=!0},apply:function(){Ah&&(rh(),Ah=!1)}}):nh={add:Ea,apply:Ea};var Sh,Ch,Oh=nh,Ph=jt,Th=new su("render"),Fh=new su("complete"),jh={extend:function(t,e,n){e.adapt=Nt(e.adapt,N(n.adapt))},init:function(){}},Rh=jh,Nh=Dt,Dh=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Lh=/\/\*.*?\*\//g,Ih=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Vh=/^@media/,Wh=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Mh=1,Uh={name:"css",extend:function(t,e,n){if(n.css){var r=Mh++,i=n.noCssTransform?n.css:Nh(n.css,r);e.cssId=r,Oh.add({id:r,styles:i})}},init:function(){}},zh=Uh,Bh={name:"data",extend:function(t,e,n){var r=void 0,i=void 0;if(n.data&&h(n.data))for(r in n.data)i=n.data[r],i&&"object"==typeof i&&(h(i)||s(i))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Wt(e.data,n.data)},init:function(t,e,n){var r=Wt(t.prototype.data,n.data);return"function"==typeof r&&(r=r.call(e)),r||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},$h=Bh,qh=/^\s+/;Ch=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},Ch.prototype=Error.prototype,Sh=function(t,e){var n,r,i=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=i+t.length+1;return i=e,e},0),this.init&&this.init(t,e),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},Sh.prototype={read:function(t){var e,n,r,i;for(t||(t=this.converters),e=this.pos,r=t.length,n=0;r>n;n+=1)if(this.pos=e,i=t[n](this))return i;return null},getLinePos:function(t){for(var e,n=0,r=0;t>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return e=t-r,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],r=e[1],i=this.lines[e[0]-1],s=0,o=i.replace(/\t/g,function(t,n){return n<e[1]&&(s+=1),"  "})+"\n"+new Array(e[1]+s).join(" ")+"^----",a=new Ch(""+t+" at line "+n+" character "+r+":\n"+o);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(qh)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Sh.extend=function(t){var e,n,r=this;e=function(t,e){Sh.call(this,t,e)},e.prototype=_a(r.prototype);for(n in t)ja.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=Sh.extend,e};var Qh,Zh,Hh,Kh=Sh,Gh=1,Yh=2,Jh=3,Xh=4,tc=5,ec=6,nc=7,rc=8,ic=9,sc=10,oc=13,ac=14,uc=15,hc=16,cc=17,lc=18,fc=20,dc=21,pc=22,mc=23,vc=24,gc=25,yc=26,wc=27,bc=30,xc=31,kc=32,Ec=33,_c=34,Ac=35,Sc=36,Cc=40,Oc=50,Pc=51,Tc=52,Fc=53,jc=54,Rc=60,Nc=61,Dc=zt,Lc=/^[^\s=]+/,Ic=/^\s+/,Vc=Bt,Wc=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Mc=$t,Uc={t:sc,exclude:!0},zc="Expected a JavaScript expression",Bc="Expected closing paren",$c=Qt,qc=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Qc=Zt;Qh=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Zh=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Hh=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Zc,Hc,Kc=function(t){return function(e){var n,r,i,s;for(n=e.pos,r='"',i=!1;!i;)s=e.matchPattern(Qh)||e.matchPattern(Zh)||e.matchString(t),s?r+='"'===s?'\\"':"\\'"===s?"'":s:(s=e.matchPattern(Hh),s?r+="\\u"+("000"+s.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},Gc=Kc('"'),Yc=Kc("'"),Jc=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Yc(t),t.matchString('"')?{t:dc,v:n}:(t.pos=e,null)):t.matchString("'")?(n=Gc(t),t.matchString("'")?{t:dc,v:n}:(t.pos=e,null)):null},Xc=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,tl=Ht,el=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,nl=Kt,rl=Gt,il=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=rl(t),t.allowWhitespace(),t.matchString("}")?{t:mc,m:n}:(t.pos=e,null)):(t.pos=e,null)},sl=Yt,ol=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=sl(t),t.matchString("]")?{t:pc,m:n}:(t.pos=e,null)):(t.pos=e,null)},al=Jt,ul=Xt,hl=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Zc=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Hc=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var cl,ll,fl=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,dl=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,pl=te,ml=function(t){return al(t)||ul(t)||pl(t)},vl=ee,gl=function(t){var e,n,r,i;if(n=ml(t),!n)return null;for(;n;)if(e=t.pos,r=vl(t))n={t:kc,x:n,r:r};else{if(!t.matchString("("))break;t.allowWhitespace(),i=sl(t),t.allowWhitespace(),t.matchString(")")||t.error(Bc),n={t:Cc,x:n},i&&(n.o=i)}return n};ll=function(t,e){return function(n){var r;return(r=e(n))?r:n.matchString(t)?(n.allowWhitespace(),r=Fl(n),r||n.error(zc),{s:t,o:r,t:Ec}):null}},function(){var t,e,n,r,i;for(r="! ~ + - typeof".split(" "),i=gl,t=0,e=r.length;e>t;t+=1)n=ll(r[t],i),i=n;cl=i}();var yl,wl,bl=cl;wl=function(t,e){return function(n){var r,i,s;if(i=e(n),!i)return null;for(;;){if(r=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=r,i;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;if(n.allowWhitespace(),s=e(n),!s)return n.pos=r,i;i={t:Sc,s:t,o:[i,s]}}}},function(){var t,e,n,r,i;for(r="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),i=bl,t=0,e=r.length;e>t;t+=1)n=wl(r[t],i),i=n;yl=i}();var xl,kl,El,_l,Al,Sl,Cl,Ol,Pl=yl,Tl=ne,Fl=re,jl=ie,Rl=oe,Nl=/^[0-9][1-9]*$/,Dl=ue,Ll=he,Il=ce,Vl=le,Wl=fe,Ml=de,Ul=pe,zl=/^yield\s*/,Bl=me,$l=ve,ql=/^\s*else\s*/,Ql=ge,Zl=/^\s*elseif\s+/,Hl={each:Tc,"if":Oc,"if-with":jc,"with":Fc,unless:Pc},Kl=ye,Gl=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Yl=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Jl=new RegExp("^("+Object.keys(Hl).join("|")+")\\b"),Xl=Ee,tf="<!--",ef="-->";xl=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,kl=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,El={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},_l=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Al=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(El).join("|")+"));?","g"),Sl=/</g,Cl=/>/g,Ol=/&/g;var nf,rf,sf,of,af,uf,hf,cf=/^\s*\r?\n/,lf=/\r?\n\s*$/,ff=function(t){var e,n,r,i,s;for(e=1;e<t.length;e+=1)n=t[e],r=t[e-1],i=t[e-2],Ce(n)&&Oe(r)&&Ce(i)&&lf.test(i)&&cf.test(n)&&(t[e-2]=i.replace(lf,"\n"),t[e]=n.replace(cf,"")),Pe(n)&&Ce(r)&&lf.test(r)&&Ce(n.f[0])&&cf.test(n.f[0])&&(t[e-1]=r.replace(lf,"\n"),n.f[0]=n.f[0].replace(cf,"")),Ce(n)&&Pe(r)&&(s=D(r.f),Ce(s)&&lf.test(s)&&cf.test(n)&&(r.f[r.f.length-1]=s.replace(lf,"\n"),t[e]=n.replace(cf,"")));return t},df=function(t,e,n){var r;e&&(r=t[0],"string"==typeof r&&(r=r.replace(e,""),r?t[0]=r:t.shift())),n&&(r=D(t),"string"==typeof r&&(r=r.replace(n,""),r?t[t.length-1]=r:t.pop()))},pf=Te,mf=/[ \t\f\r\n]+/g,vf=/^(?:pre|script|style|textarea)$/i,gf=/^[ \t\f\r\n]+/,yf=/[ \t\f\r\n]+$/,wf=/^(?:\r\n|\r|\n)/,bf=/(?:\r\n|\r|\n)$/,xf=Fe,kf=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Ef=function(t,e){var n,r,i;for(n=e.length;n--;){if(r=t.indexOf(e[n]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},_f=je,Af=/^[^\s"'>\/=]+/,Sf=/^[^\s"'=<>`]+/;rf={"true":!0,"false":!1,undefined:void 0,"null":null},sf=new RegExp("^(?:"+Object.keys(rf).join("|")+")"),of=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,af=/\$\{([^\}]+)\}/g,uf=/^\$\{([^\}]+)\}/,hf=/^\s*$/,nf=Kh.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&hf.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(uf),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(sf))?{v:rf[e]}:void 0},function(t){var e;return(e=t.matchPattern(of))?{v:+e}:void 0},function(t){var e,n=Jc(t);return n&&(e=t.values)?{v:n.v.replace(af,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=Ve(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var Cf,Of=function(t,e){var n=new nf(t,{values:e});return n.result},Pf=We,Tf=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Ff=/\)\s*$/;Cf=Kh.extend({converters:[Fl]});var jf,Rf=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Nf=/^[\s\n\/>]/,Df=/^on/,Lf=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,If=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Vf={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Wf={exclude:!0};jf={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Mf,Uf=Me,zf=ze,Bf=Be,$f=/[-\/\\^$*+?.()|[\]{}]/g,qf=$e,Qf=/^<!--\s*/,Zf=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Hf=/\s*-->/,Kf=qe,Gf=/^#\s*partial\s+/,Yf=Qe,Jf=Ze,Xf=[Il,Ll,Kl,Ul,Ml,Vl],td=[Dl],ed=[Ll,Kl,Ml],nd=void 0,rd=[Mc,Xl,Uf,zf],id=[qf,Kf];nd=Kh.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],r=e.staticDelimiters||["[[","]]"],i=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Xf},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:td},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:ed},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:td}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),pf(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:oa}},converters:[Yf],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var sd,od,ad,ud=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],hd={fromId:Ge,isHashedId:Ye,isParsed:Je,getParseOptions:Xe,createHelper:He,parse:Ke},cd=hd,ld={name:"template",extend:function(t,e,n){var r;"template"in n&&(r=n.template,e.template="function"==typeof r?r:rn(r,e))},init:function(t,e,n){var r,i;r="template"in n?n.template:t.prototype.template,"function"==typeof r&&(i=r,r=en(e,i),e._config.template={fn:i,result:r}),r=rn(r,e),e.template=r.t,r.p&&sn(e.partials,r.p)},reset:function(t){var e,n=tn(t);return n?(e=rn(n,t),t.template=e.t,sn(t.partials,e.p,!0),!0):void 0}},fd=ld;sd=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],od=function(t,e){this.name=t,this.useDefaults=e},od.prototype={constructor:od,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var r,i=this.name,s=n[i];r=_a(t[i]);for(var o in s)r[o]=s[o];e[i]=r},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var r=e[t];r._fn&&(r._fn.isOwner?e[t]=r._fn:delete e[t],n=!0)}),n}},ad=sd.map(function(t){return new od(t,"computed"===t)});var dd,pd,md,vd,gd,yd,wd=ad,bd=on,xd=cn;vd={adapt:Rh,css:zh,data:$h,template:fd},md=Object.keys(ua),yd=dn(md.filter(function(t){return!vd[t]})),gd=dn(md.concat(wd.map(function(t){return t.name}))),pd=[].concat(md.filter(function(t){return!wd[t]&&!vd[t]}),wd,vd.data,vd.template,vd.css),dd={extend:function(t,e,n){return ln("extend",t,e,n)},init:function(t,e,n){return ln("init",t,e,n)},reset:function(t){return pd.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:pd};var kd=dd,Ed=pn,_d=mn,Ad=vn,Sd=gn,Cd=yn,Od=wn,Pd=bn,Td=xn,Fd=kn,jd=En,Rd=_n,Nd=An,Dd=function(){return e(this.node)},Ld=function(t){this.type=Gh,this.text=t.template};Ld.prototype={detach:Dd,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Se(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var Id=Ld,Vd=Sn,Wd=Cn,Md=function(t,e,n){var r;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,r=lu(t.root,e,t.parentFragment),void 0!=r?this.resolve(r):yu.addUnresolved(this)};Md.prototype={resolve:function(t){this.keypath&&!t&&yu.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(_(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||yu.removeUnresolved(this)}};var Ud=Md,zd=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},Bd={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};zd.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,r=Bd[e];if(!r)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(_("@"+r.prefix+On(this.cached,r)));if(-1!==r.prop.indexOf("index")||-1!==r.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===Tc&&void 0!==(t=On(n,r)))return this.cached=n,n.registerIndexRef(this),this.callback(_("@"+r.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=On(n,r)))return this.callback(_("@"+r.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var $d=zd,qd=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};qd.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(_("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Qd=qd,Zd=Pn;Pn.resolve=function(t){var e,n,r={};for(e in t.refs)n=t.refs[e],r[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return r};var Hd,Kd=Tn,Gd=Fn,Yd={},Jd=Function.prototype.bind;Hd=function(t,e,n,r){var i,s=this;i=t.root,this.root=i,this.parentFragment=e,this.callback=r,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return Kd(s,t,function(t){s.resolve(e,t)})}),this.ready=!0,this.bubble()},Hd.prototype={bubble:function(){this.ready&&(this.uniqueString=Rn(this.str,this.keypaths),this.keypath=Nn(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,r,i,s=this;r=this.keypath,t=this.root.viewmodel.computations[r.str],t?this.root.viewmodel.mark(r):(i=Gd(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=s.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=Ln(e,s.root)),e}}),n={deps:this.keypaths.filter(Dn),getter:function(){var t=e.map(jn);return i.apply(null,t)}},t=this.root.viewmodel.compute(r,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Xd=Hd,tp=function(t,e,n){var r=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===bc?this.refResolver=Kd(this,t.n,function(t){r.resolve(t)}):new Xd(e,n,t,function(t){r.resolve(t)})};tp.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var ep=tp,np=function(t,e,n){var r,i,s,o,a=this;this.parentFragment=o=t.parentFragment,this.root=r=t.root,this.mustache=t,this.ref=i=e.r,this.callback=n,this.unresolved=[],(s=lu(r,i,o))?this.base=s:this.baseResolver=new Ud(this,i,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new ep(t,a,o)}),this.ready=!0,this.bubble()};np.prototype={getKeypath:function(){var t=this.members.map(In);return!t.every(Vn)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Z)},rebind:function(t,e){var n;if(this.base){var r=this.base.replace(t,e);r&&r!==this.base&&(this.base=r,n=!0)}this.members.forEach(function(r){r.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=_(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Wn),this.bubble()}};var rp=np,ip=Mn,sp=Un,op=zn,ap={getValue:Wd,init:ip,resolve:sp,rebind:op},up=function(t){this.type=Yh,ap.init(this,t)};up.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:ap.resolve,rebind:ap.rebind,detach:Dd,unbind:Vd,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),
this.node},unrender:function(t){t&&e(this.node)},getValue:ap.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),a(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&yu.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?Se(e):e}};var hp=up,cp=Bn,lp=$n,fp=qn,dp=Qn,pp=Zn,mp=Hn,vp=Kn,gp=Gn,yp=Yn,wp=function(t,e){ap.rebind.call(this,t,e)},bp=Xn,xp=tr,kp=lr,Ep=fr,_p=dr,Ap=vr,Sp=function(t){this.type=Xh,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===Pc,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,ap.init(this,t)};Sp.prototype={bubble:cp,detach:lp,find:fp,findAll:dp,findAllComponents:pp,findComponent:mp,findNextNode:vp,firstNode:gp,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:ap.getValue,shuffle:yp,rebind:wp,render:bp,resolve:ap.resolve,setValue:xp,toString:kp,unbind:Ep,unrender:_p,update:Ap};var Cp,Op,Pp=Sp,Tp=gr,Fp=yr,jp=wr,Rp=br,Np={};try{la("table").innerHTML="foo"}catch(Oa){Cp=!0,Op={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Dp=function(t,e,n){var r,i,s,o,a,u=[];if(null!=t&&""!==t){for(Cp&&(i=Op[e.tagName])?(r=xr("DIV"),r.innerHTML=i[0]+t+i[1],r=r.querySelector(".x"),"SELECT"===r.tagName&&(s=r.options[r.selectedIndex])):e.namespaceURI===ra.svg?(r=xr("DIV"),r.innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):(r=xr(e.tagName),r.innerHTML=t,"SELECT"===r.tagName&&(s=r.options[r.selectedIndex]));o=r.firstChild;)u.push(o),n.appendChild(o);if("SELECT"===e.tagName)for(a=u.length;a--;)u[a]!==s&&(u[a].selected=!1)}return u},Lp=kr,Ip=_r,Vp=Ar,Wp=Sr,Mp=Cr,Up=Or,zp=function(t){this.type=Jh,ap.init(this,t)};zp.prototype={detach:Tp,find:Fp,findAll:jp,firstNode:Rp,getValue:ap.getValue,rebind:ap.rebind,render:Ip,resolve:ap.resolve,setValue:Vp,toString:Wp,unbind:Vd,unrender:Mp,update:Up};var Bp,$p,qp,Qp,Zp=zp,Hp=function(){this.parentFragment.bubble()},Kp=Pr,Gp=function(t){return this.node?fa(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Yp=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Jp=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Xp=function(t){return this.fragment?this.fragment.findComponent(t):void 0},tm=Tr,em=Fr,nm=jr,rm=/^true|on|yes|1$/i,im=/^[0-9]+$/,sm=function(t,e){var n,r,i;return i=e.a||{},r={},n=i.twoway,void 0!==n&&(r.twoway=0===n||rm.test(n)),n=i.lazy,void 0!==n&&(r.lazy=0!==n&&im.test(n)?parseInt(n):0===n||rm.test(n)),r},om=Rr;Bp="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),$p="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),qp=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},Qp=qp(Bp.concat($p));var am=function(t){var e=t.toLowerCase();return Qp[e]||e},um=function(t,e){var n,r;if(n=e.indexOf(":"),-1===n||(r=e.substr(0,n),"xmlns"===r))t.name=t.element.namespace!==ra.html?am(e):e;else if(e=e.substring(n+1),t.name=am(e),t.namespace=ra[r.toLowerCase()],t.namespacePrefix=r,!t.namespace)throw'Unknown namespace ("'+r+'")'},hm=Nr,cm=Dr,lm=Lr,fm=Ir,dm={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},pm=Vr,mm=Mr,vm=Ur,gm=zr,ym=Br,wm=$r,bm=qr,xm=Qr,km=Zr,Em=Hr,_m=Kr,Am=Gr,Sm=Yr,Cm=Jr,Om=Xr,Pm=function(t){this.init(t)};Pm.prototype={bubble:om,init:cm,rebind:lm,render:fm,toString:pm,unbind:mm,update:Om};var Tm,Fm=Pm,jm=function(t,e){var n,r,i=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(r=new Fm({element:t,name:n,value:e[n],root:t.root}),i[n]=r,"value"!==n&&i.push(r));return(r=i.value)&&i.push(r),i};"undefined"!=typeof document&&(Tm=la("div"));var Rm=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new xw({root:t.root,owner:this,template:[e]})};Rm.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===ra.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment.toString(),e=ti(t,this.isSvg),this.attributes.filter(function(t){return ei(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment.toString()}};var Nm=Rm,Dm=function(t,e){return e?e.map(function(e){return new Nm(t,e)}):[]},Lm=function(t){var e,n,r,i;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return v("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return v("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var s=e.template.r?"'"+e.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",s,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,r=this.root.viewmodel.get(n),void 0===r&&this.getInitialValue&&(r=this.getInitialValue(),void 0!==r&&this.root.viewmodel.set(n,r)),(i=ni(t))&&(this.resetValue=r,i.formBindings.push(this))};Lm.prototype={handleChange:function(){var t=this;yu.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),yu.scheduleTask(function(){return t.attribute.locked=!1}),yu.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(L(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},Lm.extend=function(t){var e,n=this;return e=function(t){Lm.call(this,t),this.init&&this.init()},e.prototype=_a(n.prototype),r(e.prototype,t),e.extend=Lm.extend,e};var Im,Vm=Lm,Wm=ri;Im=Vm.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:u(this.element.lazy)?(t=!1,n=+this.element.lazy):u(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?si:Wm,e.addEventListener("change",Wm,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",ii,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Wm,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",ii,!1)}});var Mm=Im,Um=Mm.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),zm=Um,Bm=oi,$m={},qm=Vm.extend({name:"checked",init:function(){this.siblings=Bm(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Wm,!1),t.attachEvent&&t.addEventListener("click",Wm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Wm,!1),t.removeEventListener("click",Wm,!1)},handleChange:function(){yu.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),yu.end()},getValue:function(){return this.element.node.checked},unbind:function(){L(this.siblings,this)}}),Qm=qm,Zm=Vm.extend({name:"name",init:function(){this.siblings=Bm(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Wm,!1),t.attachEvent&&t.addEventListener("click",Wm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Wm,!1),t.removeEventListener("click",Wm,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&Vm.prototype.handleChange.call(this)},rebound:function(t,e){var n;Vm.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){L(this.siblings,this)}}),Hm=Zm,Km=Vm.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=Bm(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){L(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),this.isChecked=s(t)?j(t,e):t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Wm,!1),n.attachEvent&&n.addEventListener("click",Wm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Wm,!1),t.removeEventListener("click",Wm,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,Vm.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ai).map(ui)}}),Gm=Km,Ym=Vm.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Wm,!1),t.attachEvent&&t.addEventListener("click",Wm,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Wm,!1),t.removeEventListener("click",Wm,!1)},getValue:function(){return this.element.node.checked}}),Jm=Ym,Xm=Vm.extend({getInitialValue:function(){var t,e,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=i.length,t)){for(;e--;)if(i[e].getAttribute("selected")){n=i[e].getAttribute("value"),r=!0;break}if(!r)for(;++e<t;)if(!i[e].getAttribute("disabled")){n=i[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Wm,!1)},unrender:function(){this.element.node.removeEventListener("change",Wm,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,r,i;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(r=t[e],t[e].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,yu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),tv=Xm,ev=tv.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Wm,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Wm,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,e,n,r,i,s;for(t=[],e=this.element.node.options,r=e.length,n=0;r>n;n+=1)i=e[n],i.selected&&(s=i._ractive?i._ractive.value:i.value,t.push(s));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&R(n,e)||tv.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,yu.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),nv=ev,rv=Vm.extend({render:function(){this.element.node.addEventListener("change",Wm,!1)},unrender:function(){this.element.node.removeEventListener("change",Wm,!1)},getValue:function(){return this.element.node.files}}),iv=rv,sv=Mm.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),ov=hi,av=li,uv=fi,hv=di,cv=pi,lv=/^event(?:\.(.+))?/,fv=yi,dv=wi,pv={},mv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},vv=xi,gv=ki,yv=Ei,wv=_i,bv=Ai,xv=function(t,e,n){this.init(t,e,n)};xv.prototype={bubble:av,fire:uv,getAction:hv,init:cv,listen:dv,rebind:vv,render:gv,resolve:yv,unbind:wv,unrender:bv};var kv=xv,Ev=function(t,e){var n,r,i,s,o=[];for(r in e)if(e.hasOwnProperty(r))for(i=r.split("-"),n=i.length;n--;)s=new kv(t,i[n],e[r]),o.push(s);return o},_v=function(t,e){var n,r,i,s=this;this.element=t,this.root=n=t.root,r=e.n||e,("string"==typeof r||(i=new xw({template:r,root:n,owner:t}),r=i.toString(),i.unbind(),""!==r))&&(e.a?this.params=e.a:e.d&&(this.fragment=new xw({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,s.params=this.getArgsList(),s.ready&&s.update()}),this.fn=g("decorators",n,r),this.fn||l(Va(r,"decorator")))};_v.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var Av,Sv,Cv,Ov=_v,Pv=ji,Tv=Ri,Fv=Wi,jv=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Xo?(Sv={},Cv=la("div").style,Av=function(t){var e,n,r;if(t=jv(t),!Sv[t])if(void 0!==Cv[t])Sv[t]=t;else for(r=t.charAt(0).toUpperCase()+t.substring(1),e=sa.length;e--;)if(n=sa[e],void 0!==Cv[n+r]){Sv[t]=n+r;break}return Sv[t]}):Av=null;var Rv,Nv,Dv=Av;Xo?(Nv=window.getComputedStyle||Ca.getComputedStyle,Rv=function(t){var e,n,r,i,o;if(e=Nv(this.node),"string"==typeof t)return o=e[Dv(t)],"0px"===o&&(o=0),o;if(!s(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},r=t.length;r--;)i=t[r],o=e[Dv(i)],"0px"===o&&(o=0),n[i]=o;return n}):Rv=null;var Lv=Rv,Iv=function(t,e){var n;if("string"==typeof t)this.node.style[Dv(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Dv(n)]=t[n]);return this},Vv=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(v(Va(t.easing,"easing")),e=Mi)):e="function"==typeof t.easing?t.easing:Mi,this.easing=e,this.start=nu(),this.end=this.start+this.duration,this.running=!0,xu.add(this)};Vv.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Wv,Mv,Uv,zv,Bv,$v,qv,Qv,Zv=Vv,Hv=new RegExp("^-(?:"+sa.join("|")+")-"),Kv=function(t){return t.replace(Hv,"")},Gv=new RegExp("^(?:"+sa.join("|")+")([A-Z])"),Yv=function(t){var e;return t?(Gv.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Jv={},Xv={};Xo?(Mv=la("div").style,function(){void 0!==Mv.transition?(Uv="transition",zv="transitionend",Bv=!0):void 0!==Mv.webkitTransition?(Uv="webkitTransition",zv="webkitTransitionEnd",Bv=!0):Bv=!1}(),Uv&&($v=Uv+"Duration",qv=Uv+"Property",Qv=Uv+"TimingFunction"),Wv=function(t,e,n,r,i){setTimeout(function(){var s,o,a,u,h;u=function(){o&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),i())},s=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[qv]=r.map(Dv).map(Yv).join(","),t.node.style[Qv]=Yv(n.easing||"linear"),t.node.style[$v]=n.duration/1e3+"s",h=function(e){var n;n=r.indexOf(jv(Kv(e.propertyName))),-1!==n&&r.splice(n,1),r.length||(t.node.removeEventListener(zv,h,!1),a=!0,u())},t.node.addEventListener(zv,h,!1),setTimeout(function(){for(var i,c,l,f,d,p=r.length,v=[];p--;)f=r[p],i=s+f,Bv&&!Xv[i]&&(t.node.style[Dv(f)]=e[f],Jv[i]||(c=t.getStyle(f),Jv[i]=t.getStyle(f)!=e[f],Xv[i]=!Jv[i],Xv[i]&&(t.node.style[Dv(f)]=c))),(!Bv||Xv[i])&&(void 0===c&&(c=t.getStyle(f)),l=r.indexOf(f),-1===l?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):r.splice(l,1),d=/[^\d]*$/.exec(e[f])[0],v.push({name:Dv(f),interpolator:Ma(parseFloat(c),parseFloat(e[f])),suffix:d}));v.length?new Zv({root:t.root,duration:n.duration,easing:jv(n.easing||""),step:function(e){var n,r;for(r=v.length;r--;)n=v[r],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){o=!0,u()}}):o=!0,r.length||(t.node.removeEventListener(zv,h,!1),a=!0,u())},0)},n.delay||0)}):Wv=null;var tg,eg,ng,rg,ig,sg=Wv;if("undefined"!=typeof document){if(tg="hidden",ig={},tg in document)ng="";else for(rg=sa.length;rg--;)eg=sa[rg],tg=eg+"Hidden",tg in document&&(ng=eg);void 0!==ng?(document.addEventListener(ng+"visibilitychange",Ui),Ui()):("onfocusout"in document?(document.addEventListener("focusout",zi),document.addEventListener("focusin",Bi)):(window.addEventListener("pagehide",zi),window.addEventListener("blur",zi),window.addEventListener("pageshow",Bi),window.addEventListener("focus",Bi)),ig.hidden=!1)}var og,ag,ug,hg=ig;Xo?(ag=window.getComputedStyle||Ca.getComputedStyle,og=function(t,e,n){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(hg.hidden)return this.setStyle(t,e),ug||(ug=hu.resolve());"string"==typeof t?(r={},r[t]=e):(r=t,n=e),n||(v('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var s=new hu(function(t){var e,s,o,a,u,h,c;if(!n.duration)return i.setStyle(r),void t();for(e=Object.keys(r),s=[],o=ag(i.node),u={},h=e.length;h--;)c=e[h],a=o[Dv(c)],"0px"===a&&(a=0),a!=r[c]&&(s.push(c),i.node.style[Dv(c)]=a);return s.length?void sg(i,r,n,s,t):void t()});return s}):og=null;var cg=og,lg=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),i({},t,e)},fg=$i,dg=function(t,e,n){this.init(t,e,n)};dg.prototype={init:Fv,start:fg,getStyle:Lv,setStyle:Iv,animateStyle:cg,processParams:lg};var pg,mg,vg=dg,gg=Qi;pg=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},mg=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var yg=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Ji).join("")+this.conditionalAttributes.map(Ji).join(""),"option"===this.name&&Gi(this)&&(t+=" selected"),"input"===this.name&&Yi(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Se(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),kl.test(this.template.e)||(t+="</"+this.template.e+">"),t)},wg=Xi,bg=ts,xg=function(t){this.init(t)};xg.prototype={bubble:Hp,detach:Kp,find:Gp,findAll:Yp,findAllComponents:Jp,findComponent:Xp,findNextNode:tm,firstNode:em,getAttribute:nm,init:Pv,rebind:Tv,render:gg,toString:yg,unbind:wg,unrender:bg};var kg=xg,Eg=/^\s*$/,_g=/^\s*/,Ag=function(t){var e,n,r,i;return e=t.split("\n"),n=e[0],void 0!==n&&Eg.test(n)&&e.shift(),r=D(e),void 0!==r&&Eg.test(r)&&e.pop(),i=e.reduce(ns,null),i&&(t=e.map(function(t){return t.replace(i,"")}).join("\n")),t},Sg=rs,Cg=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Og='Could not find template for partial "%s"',Pg=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=rc,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,ap.init(this,t),this.keypath||((n=Sg(this.root,this.name,e))?(Vd.call(this),this.isNamed=!0,this.setTemplate(n)):v(Og,this.name))};Pg.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||op.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:ap.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=Sg(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=Sg(this.root,this.name,this.parentFragment))&&(Vd.call(this),this.isNamed=!0),e||v(Og,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&yu.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new xw({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,r,i;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===Gh?(r=n.text.split("\n").pop(),(i=/^\s+$/.exec(r))?Cg(e,i[0]):e):e},unbind:function(){this.isNamed||Vd.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var Tg,Fg,jg,Rg=Pg,Ng=us,Dg=hs,Lg=new su("detach"),Ig=cs,Vg=ls,Wg=fs,Mg=ds,Ug=ps,zg=ms,Bg=function(t,e,n,r){var i=t.root,s=t.keypath;r?i.viewmodel.smartUpdate(s,e,r):i.viewmodel.mark(s)},$g=[],qg=["pop","push","reverse","shift","sort","splice","unshift"];qg.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),r=0;e>r;r++)n[r]=arguments[r];var i,s,o,a;for(i=yh(this,t,n),s=Array.prototype[t].apply(this,arguments),yu.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)o=this._ractive.wrappers[a],yu.addRactive(o.root),Bg(o,this,t,i);return yu.end(),this._ractive.setting=!1,s};Aa($g,t,{value:e})}),Tg={},Tg.__proto__?(Fg=function(t){t.__proto__=$g},jg=function(t){t.__proto__=Array.prototype}):(Fg=function(t){var e,n;for(e=qg.length;e--;)n=qg[e],Aa(t,n,{value:$g[n],configurable:!0})},jg=function(t){var e;for(e=qg.length;e--;)delete t[qg[e]]}),Fg.unpatch=jg;var Qg,Zg,Hg,Kg=Fg;Qg={filter:function(t){return s(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new Zg(t,e,n)}},Zg=function(t,e,n){this.root=t,this.value=e,this.keypath=_(n),e._ractive||(Aa(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),Kg(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},Zg.prototype={get:function(){return this.value},teardown:function(){var t,e,n,r,i;if(t=this.value,e=t._ractive,n=e.wrappers,r=e.instances,e.setting)return!1;if(i=n.indexOf(this),-1===i)throw new Error(Hg);if(n.splice(i,1),n.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),-1===i)throw new Error(Hg);r.splice(i,1)}}else delete t._ractive,Kg.unpatch(this.value)}},Hg="Something went wrong in a rather interesting way";var Gg,Yg,Jg=Qg,Xg=/^\s*[0-9]+\s*$/,ty=function(t){return Xg.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Gg={filter:function(t,e,n){var r,i;return e?(e=_(e),(r=n.viewmodel.wrapped[e.parent.str])&&!r.magic?!1:(i=n.viewmodel.get(e.parent),s(i)&&/^[0-9]+$/.test(e.lastKey)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(t,e,n){return new Yg(t,e,n)}},Yg=function(t,e,n){var r,i,s;return n=_(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,r=n.parent,this.obj=r.isRoot?t.viewmodel.data:t.viewmodel.get(r),i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),i&&i.set&&(s=i.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void vs(this,e,i)},Yg.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,yu.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=ty(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(r=e._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(Oa){Gg=!1}var ey,ny,ry=Gg;ry&&(ey={filter:function(t,e,n){return ry.filter(t,e,n)&&Jg.filter(t)},wrap:function(t,e,n){return new ny(t,e,n)}},ny=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=ry.wrap(t,e,n),this.arrayWrapper=Jg.wrap(t,e,n)},ny.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var iy=ey,sy=gs,oy={},ay=bs,uy=xs,hy=_s,cy=Ps,ly=Ts,fy=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};fy.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var dy=fy,py=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};py.prototype={constructor:py,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,r=!1;if(this.getting){var i="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(i),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,i,s;if(!r)for(s=t.length;s--;)if(e=t[s],i=n.viewmodel.get(e),!a(i,n.depValues[e.str]))return n.depValues[e.str]=i,void(r=!0)}),r){this.viewmodel.capture();try{this.value=this.getter()}catch(s){m('Failed to compute "%s"',this.key.str),f(s.stack||s),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,r,i,s;for(n=this.softDeps,e=n.length;e--;)r=n[e],-1===t.indexOf(r)&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(e=t.length;e--;)r=t[e],-1!==n.indexOf(r)||this.hardDeps&&-1!==this.hardDeps.indexOf(r)||(i=!0,Fs(this.viewmodel,r)&&!this.unresolvedDeps[r.str]?(s=new dy(this,r.str),t.splice(e,1),this.unresolvedDeps[r.str]=s,yu.addUnresolved(s)):this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=t.slice()),i}};var my=py,vy=js,gy={FAILED_LOOKUP:!0},yy=Rs,wy={},by=Ds,xy=Ls,ky=function(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};ky.prototype={forceResolution:function(){
this.keypath=this.localKey,this.setup()},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var r,i;if(this.resolved){for(r=this.deps,i=r.length;i--;)if(r[i].dep===e){r.splice(i,1);break}this.origin.unregister(this.map(t),e,n)}}};var Ey=Is,_y=function(t,e){var n,r,i,s;return n={},r=0,i=t.map(function(t,i){var o,a,u;a=r,u=e.length;do{if(o=e.indexOf(t,a),-1===o)return s=!0,-1;a=o+1}while(n[o]&&u>a);return o===r&&(r+=1),o!==i&&(s=!0),n[o]=!0,o})},Ay=Vs,Sy={},Cy=Us,Oy=Bs,Py=$s,Ty=qs,Fy=Zs,jy={implicit:!0},Ry={noCascade:!0},Ny=Ks,Dy=Gs,Ly=function(t){var e,n,r=t.adapt,i=t.data,s=t.ractive,o=t.computed,a=t.mappings;this.ractive=s,this.adaptors=r,this.onchange=t.onchange,this.cache={},this.cacheMap=_a(null),this.deps={computed:_a(null),"default":_a(null)},this.depsMap={computed:_a(null),"default":_a(null)},this.patternObservers=[],this.specials=_a(null),this.wrapped=_a(null),this.computations=_a(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=i,this.mappings=_a(null);for(e in a)this.map(_(e),a[e]);if(i)for(e in i)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(i[e]);for(e in o)a&&e in a&&l("Cannot map to a computed property ('%s')",e),this.compute(_(e),o[e]);this.ready=!0};Ly.prototype={adapt:sy,applyChanges:hy,capture:cy,clearCache:ly,compute:vy,get:yy,init:by,map:xy,mark:Ey,merge:Ay,register:Cy,release:Oy,reset:Py,set:Ty,smartUpdate:Fy,teardown:Ny,unregister:Dy};var Iy=Ly;Js.prototype={constructor:Js,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?Xs(this.queue,e).push(t):to(this,t),delete this.inProcess[t._guid]}};var Vy=Js,Wy=eo,My=/\$\{([^\}]+)\}/g,Uy=new su("construct"),zy=new su("config"),By=new Vy("init"),$y=0,qy=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Qy=so,Zy=co;co.prototype={bubble:function(){this.dirty||(this.dirty=!0,yu.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var Hy=function(t,e,n,i,o){var a,u,h,c,l,f,d={},p={},v={},g=[];for(u=t.parentFragment,h=t.root,o=o||{},r(d,o),o.content=i||[],d[""]=o.content,e.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",t.name),c=u;c;){if(c.owner.type===hc){l=c.owner.container;break}c=c.parent}return n&&Object.keys(n).forEach(function(e){var r,i,o=n[e];if("string"==typeof o)r=Of(o),p[e]=r?r.value:o;else if(0===o)p[e]=!0;else{if(!s(o))throw new Error("erm wut");fo(o)?(v[e]={origin:t.root.viewmodel,keypath:void 0},i=lo(t,o[0],function(t){t.isSpecial?f?a.set(e,t.value):(p[e]=t.value,delete v[e]):f?a.viewmodel.mappings[e].resolve(t):v[e].keypath=t})):i=new Zy(t,o,function(t){f?a.set(e,t):p[e]=t}),g.push(i)}}),a=_a(e.prototype),Qy(a,{el:null,append:!0,data:p,partials:o,magic:h.magic||e.defaults.magic,modifyArrays:h.modifyArrays,adapt:h.adapt},{parent:h,component:t,container:l,mappings:v,inlinePartials:d,cssIds:u.cssIds}),f=!0,t.resolvers=g,a},Ky=po,Gy=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Yy=vo,Jy=go,Xy=yo,tw=wo,ew=bo,nw=new su("teardown"),rw=ko,iw=function(t,e){this.init(t,e)};iw.prototype={detach:Dg,find:Ig,findAll:Vg,findAllComponents:Wg,findComponent:Mg,findNextNode:Ug,firstNode:zg,init:Yy,rebind:Jy,render:Xy,toString:tw,unbind:ew,unrender:rw};var sw=iw,ow=function(t){this.type=ic,this.value=t.template.c};ow.prototype={detach:Dd,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var aw=ow,uw=function(t){var e,n;this.type=hc,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var r=this.name=t.template.n||"",i=e._inlinePartials[r];i||(m('Could not find template for partial "'+r+'"',{ractive:t.root}),i=[]),this.fragment=new xw({owner:this,root:e.parent,template:i,pElement:this.containerFragment.pElement}),s(n.yielders[r])?n.yielders[r].push(this):n.yielders[r]=[this],yu.scheduleTask(function(){if(n.yielders[r].length>1)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};uw.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),L(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment.toString()}};var hw=uw,cw=function(t){this.declaration=t.template.a};cw.prototype={init:Ea,render:Ea,unrender:Ea,teardown:Ea,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var lw=cw,fw=Eo,dw=Ao,pw=So,mw=Co,vw=To,gw=jo,yw=function(t){this.init(t)};yw.prototype={bubble:Ed,detach:_d,find:Ad,findAll:Sd,findAllComponents:Cd,findComponent:Od,findNextNode:Pd,firstNode:Td,getArgsList:jd,getNode:Rd,getValue:Nd,init:fw,rebind:dw,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:pw,toString:mw,unbind:vw,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:gw};var ww,bw,xw=yw,kw=Ro,Ew=["template","partials","components","decorators","events"],_w=new su("reset"),Aw=function(t,e){function n(e,r,i){i&&i.partials[t]||e.forEach(function(e){e.type===rc&&e.getPartialName()===t&&r.push(e),e.fragment&&n(e.fragment.items,r,i),s(e.fragments)?n(e.fragments,r,i):s(e.items)?n(e.items,r,i):e.type===uc&&e.instance&&n(e.instance.fragment.items,r,e.instance),e.type===nc&&(s(e.attributes)&&n(e.attributes,r,i),s(e.conditionalAttributes)&&n(e.conditionalAttributes,r,i))})}var r,i=[];return n(this.fragment.items,i),this.partials[t]=e,r=yu.start(this,!0),i.forEach(function(e){e.value=void 0,e.setValue(t)}),yu.end(),r},Sw=No,Cw=bh("reverse"),Ow=Do,Pw=bh("shift"),Tw=bh("sort"),Fw=bh("splice"),jw=Io,Rw=Vo,Nw=new su("teardown"),Dw=Mo,Lw=Uo,Iw=zo,Vw=new su("unrender"),Ww=bh("unshift"),Mw=Bo,Uw=new su("update"),zw=$o,Bw={add:Xa,animate:_u,detach:Su,find:Ou,findAll:Iu,findAllComponents:Vu,findComponent:Wu,findContainer:Mu,findParent:Uu,fire:qu,get:Qu,insert:Hu,merge:Gu,observe:lh,observeOnce:fh,off:mh,on:vh,once:gh,pop:xh,push:kh,render:Ph,reset:kw,resetPartial:Aw,resetTemplate:Sw,reverse:Cw,set:Ow,shift:Pw,sort:Tw,splice:Fw,subtract:jw,teardown:Rw,toggle:Dw,toHTML:Lw,toHtml:Lw,unrender:Iw,unshift:Ww,update:Mw,updateModel:zw},$w=function(t,e,n){return n||Qo(t,e)?function(){var n,r="_super"in this,i=this._super;return this._super=e,n=t.apply(this,arguments),r&&(this._super=i),n}:t},qw=Zo,Qw=Yo,Zw=function(t){var e,n,r={};return t&&(e=t._ractive)?(r.ractive=e.root,r.keypath=e.keypath.str,r.index={},(n=Zd(e.proxy.parentFragment))&&(r.index=Zd.resolve(n)),r):r};ww=function(t){return this instanceof ww?void Qy(this,t):new ww(t)},bw={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Qw},getNodeInfo:{value:Zw},parse:{value:Jf},Promise:{value:hu},svg:{value:ia},magic:{value:na},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:ha},events:{writable:!0,value:{}},interpolators:{writable:!0,value:za},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},Sa(ww,bw),ww.prototype=r(Bw,ua),ww.prototype.constructor=ww,ww.defaults=ww.prototype;var Hw="function";if(typeof Date.now!==Hw||typeof String.prototype.trim!==Hw||typeof Object.keys!==Hw||typeof Array.prototype.indexOf!==Hw||typeof Array.prototype.forEach!==Hw||typeof Array.prototype.map!==Hw||typeof Array.prototype.filter!==Hw||"undefined"!=typeof window&&typeof window.addEventListener!==Hw)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Kw=ww;return Kw});
//# sourceMappingURL=ractive-legacy.min.js.map
